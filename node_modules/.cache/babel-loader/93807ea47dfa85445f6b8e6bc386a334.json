{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kieu\\\\Desktop\\\\final_project\\\\my_app\\\\src\\\\Component\\\\Shop\\\\AddProduct.js\";\nimport React from 'react';\nimport Dashboard from './Dashboard';\nimport { connect } from 'react-redux';\nimport { getSubCategory } from '../../redux/home_reducer.js';\nimport { GetColors, addProduct } from '../../redux/shop_reducer.js';\nimport axios from 'axios';\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: \"\",\n      product_name: \"\",\n      description: \"\",\n      cat_id: \"\",\n      price: \"\",\n      quantity: \"\",\n      color_id: \"\",\n      file: null,\n      imagePreviewUrl: null\n    };\n    this.onChange = this.onChange.bind(this); // this.onSubmit=this.onSubmit.bind(this);\n  } // async onSubmit(e){\n  //     e.preventDefault() \n  //     let res = await this.uploadFile(this.state.file);\n  //     this.setState({image:this.state.file.name});\n  // }\n\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n    this.setState({\n      image: this.state.file.name\n    });\n    let reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  } // async uploadFile(file){\n  //     const formData = new FormData();\n  //     formData.append('file',file)\n  //     return  await axios.post('https://127.0.0.1:5001/api/Image', formData,{\n  //         headers: {\n  //             'content-type': 'multipart/form-data'\n  //         }\n  //     }).then(res=>{if(res.status==\"200\") console.log(res.data); alert(\"upload thanh cong\")});\n  //   }\n\n\n  componentWillMount() {\n    this.props.getSubCategory();\n    this.props.GetColors();\n  }\n\n  render() {\n    let _this$state = this.state,\n        product_name = _this$state.product_name,\n        description = _this$state.description,\n        cat_id = _this$state.cat_id,\n        price = _this$state.price,\n        quantity = _this$state.quantity,\n        color_id = _this$state.color_id,\n        image = _this$state.image;\n    let _this$props = this.props,\n        subcategory = _this$props.subcategory,\n        colors = _this$props.colors,\n        shop_id = _this$props.shop_id;\n    let $imagePreview = React.createElement(\"div\", {\n      className: \"previewText image-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Xin ch\\u1ECDn \\u1EA3nh \\u0111\\u1EC3 xem tr\\u01B0\\u1EDBc\");\n\n    if (this.state.imagePreviewUrl) {\n      $imagePreview = React.createElement(\"div\", {\n        className: \"image-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imagePreviewUrl,\n        alt: \"icon\",\n        width: \"200\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), \" \");\n    }\n\n    console.log(colors);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-3 col-sm-3 col-md-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col-xs-9 col-sm-9 col-md-9 col-lg-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        marginTop: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Th\\xEAm s\\u1EA3n ph\\u1EA9m m\\u1EDBi\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-8 col-sm-8 col-md-8 col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.product_name,\n      onChange: e => {\n        this.setState({\n          product_name: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Danh m\\u1EE5c\"), React.createElement(\"select\", {\n      class: \"form-control\",\n      required: \"requried\",\n      onChange: e => {\n        this.setState({\n          cat_id: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      style: {\n        display: \"none\"\n      },\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"None\"), subcategory.length > 0 && subcategory.map(item => {\n      return React.createElement(\"option\", {\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, item.name);\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.cat_id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"M\\xF4 t\\u1EA3\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: e => {\n        this.setState({\n          description: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Gi\\xE1\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.price,\n      onChange: e => {\n        this.setState({\n          price: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"S\\u1ED1 l\\u01B0\\u1EE3ng\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.quantity,\n      onChange: e => {\n        this.setState({\n          quantity: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"M\\xE0u s\\u1EAFc\"), React.createElement(\"select\", {\n      class: \"form-control\",\n      required: \"required\",\n      onChange: e => {\n        this.setState({\n          color_id: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: true,\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"None\"), colors.length > 0 && colors.map(item => {\n      return React.createElement(\"option\", {\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, item.name);\n    }))), React.createElement(\"div\", {\n      class: \"col-xs-4 col-sm-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"\\u1EA2nh s\\u1EA3n ph\\u1EA9m\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), $imagePreview))), React.createElement(\"div\", {\n      class: \"row\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-warning\",\n      style: {\n        width: \"130px\",\n        height: \"34px\",\n        marginLeft: \"200px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"H\\u1EE7y\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-default\",\n      style: {\n        width: \"130px\",\n        height: \"34px\",\n        marginLeft: \"50px\"\n      },\n      onClick: e => {\n        this.props.addProduct(product_name, description, cat_id, price, quantity, shop_id, false, color_id, image, file);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Th\\xEAm v\\xE0 \\u1EA9n\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-success\",\n      style: {\n        width: \"130px\",\n        height: \"34px\",\n        marginLeft: \"50px\"\n      },\n      onClick: e => {\n        this.props.addProduct(product_name, description, cat_id, price, quantity, shop_id, true, color_id, image, file);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Th\\xEAm v\\xE0 hi\\u1EC3n th\\u1ECB\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    shop_id: state.shopState.shop_id,\n    subcategory: state.homeState.subcategories,\n    colors: state.shopState.colors\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getSubCategory: () => dispatch(getSubCategory()),\n    GetColors: () => dispatch(GetColors()),\n    addProduct: (product_name, description, cat_id, price, quantity, shop_id, permission, color_id, image, file) => dispatch(addProduct(product_name, description, cat_id, price, quantity, shop_id, permission, color_id, image, file))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddProduct);","map":{"version":3,"sources":["C:/Users/kieu/Desktop/final_project/my_app/src/Component/Shop/AddProduct.js"],"names":["React","Dashboard","connect","getSubCategory","GetColors","addProduct","axios","AddProduct","Component","constructor","props","state","image","product_name","description","cat_id","price","quantity","color_id","file","imagePreviewUrl","onChange","bind","e","setState","target","files","name","reader","FileReader","onloadend","result","readAsDataURL","componentWillMount","render","subcategory","colors","shop_id","$imagePreview","console","log","marginTop","value","display","length","map","item","id","onSubmit","width","height","marginLeft","mapStateToProps","shopState","homeState","subcategories","mapDispatchToProps","dispatch","permission"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Dashboard from './Dashboard';\nimport { connect } from 'react-redux';\nimport {getSubCategory} from '../../redux/home_reducer.js';\nimport {GetColors,addProduct} from '../../redux/shop_reducer.js';\nimport axios from 'axios';\nclass AddProduct extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            image:\"\",\n            product_name:\"\",\n            description: \"\",\n            cat_id: \"\",\n            price: \"\",\n            quantity: \"\",\n            color_id: \"\",\n            file:null,\n            imagePreviewUrl: null,\n        }\n        this.onChange=this.onChange.bind(this);\n        // this.onSubmit=this.onSubmit.bind(this);\n    }\n    // async onSubmit(e){\n    //     e.preventDefault() \n    //     let res = await this.uploadFile(this.state.file);\n    //     this.setState({image:this.state.file.name});\n    // }\n    onChange(e) {\n        this.setState({file:e.target.files[0]});\n        this.setState({image:this.state.file.name});\n        let reader = new FileReader();\n     \n        reader.onloadend = () => {\n          this.setState({\n            imagePreviewUrl: reader.result\n          });\n        }\n     \n        reader.readAsDataURL(e.target.files[0])\n    }\n    // async uploadFile(file){\n\n\n    //     const formData = new FormData();\n\n    //     formData.append('file',file)\n      \n    //     return  await axios.post('https://127.0.0.1:5001/api/Image', formData,{\n    //         headers: {\n    //             'content-type': 'multipart/form-data'\n    //         }\n    //     }).then(res=>{if(res.status==\"200\") console.log(res.data); alert(\"upload thanh cong\")});\n    //   }\n    componentWillMount(){\n        this.props.getSubCategory();\n        this.props.GetColors();\n    }\n    render()\n    {\n        let {product_name,description,cat_id,price,quantity,color_id,image}=this.state\n        let {subcategory,colors,shop_id} = this.props\n        let $imagePreview = (<div className=\"previewText image-container\">Xin chọn ảnh để xem trước</div>);\n        if (this.state.imagePreviewUrl) {\n          $imagePreview = (<div className=\"image-container\" ><img src={this.state.imagePreviewUrl} alt=\"icon\" width=\"200\" /> </div>);\n        }\n        console.log(colors);\n        return(\n            <div>\n                <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\n                    <Dashboard/>\n                </div>\n                \n                \n                <div class=\"col-xs-9 col-sm-9 col-md-9 col-lg-9\">\n                    <h3 style={{marginTop:\"15px\"}}>Thêm sản phẩm mới</h3>\n                    <hr/>\n                    \n                    <div class=\"row\">\n                        <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\">\n                            <p>Tên sản phẩm</p>                    \n                            <input type=\"text\" class=\"form-control\" value={this.state.product_name} onChange={e=>{this.setState({product_name: e.target.value})}} />\n                            <p>Danh mục</p>                  \n                            <select class=\"form-control\" required=\"requried\" onChange={e=>{this.setState({cat_id: e.target.value})}}>\n                                <option style={{display:\"none\"}}selected>None</option>\n                                {\n                                    subcategory.length>0 &&\n                                    subcategory.map(item=>{\n                                        return(\n                                            <option value={item.id}>{item.name}</option>\n                                        )\n                                    })\n                                }\n                            </select>\n                            <p>{this.state.cat_id}</p>\n                            \n                            <p>Mô tả</p>\n                            <textarea className=\"form-control\" value={this.state.description} onChange={e=>{this.setState({description: e.target.value})}}></textarea>\n\n                            <p>Giá</p>                    \n                            <input type=\"text\" class=\"form-control\" value={this.state.price} onChange={e=>{this.setState({price: e.target.value})}}/>\n\n                            <p>Số lượng</p>                    \n                            <input type=\"text\" class=\"form-control\" value={this.state.quantity} onChange={e=>{this.setState({quantity: e.target.value})}}/>\n\n                            <p>Màu sắc</p>                  \n                            <select class=\"form-control\" required=\"required\" onChange={e=>{this.setState({color_id: e.target.value})}}>\n                             <option selected style={{display:\"none\"}}>None</option>   \n                            {\n                                    colors.length>0 &&\n                                    colors.map(item=>{\n                                        return(\n                                            <option value={item.id}>{item.name}</option>\n                                        )\n                                    })\n                                }\n                            </select>\n                        </div>\n                    \n                    <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\n                    <form onSubmit={ this.onSubmit }>\n            <h1>Ảnh sản phẩm</h1>\n            <input type=\"file\" onChange={this.onChange} />\n            { $imagePreview }\n            \n\n          </form>   \n                    </div>\n                    </div>\n                    \n                \n                \n                \n                <div class=\"row\" style={{marginTop:\"30px\"}}>\n                    <button type=\"button\" class=\"btn btn-warning\" style={{width:\"130px\",height:\"34px\",marginLeft:\"200px\"}}>Hủy</button>\n                    \n                    <button type=\"button\" class=\"btn btn-default\" style={{width:\"130px\",height:\"34px\",marginLeft:\"50px\"}}\n                    onClick={e=>{this.props.addProduct(product_name,description,cat_id,price,quantity,shop_id,false,color_id,image,file)}}\n                    >Thêm và ẩn</button>\n                    \n                    <button type=\"button\" class=\"btn btn-success\" style={{width:\"130px\",height:\"34px\",marginLeft:\"50px\"}}\n                    onClick={e=>{this.props.addProduct(product_name,description,cat_id,price,quantity,shop_id,true,color_id,image,file)}}\n                    >Thêm và hiển thị</button>\n                </div>\n                \n                \n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        shop_id: state.shopState.shop_id,\n        subcategory:state.homeState.subcategories,\n        colors: state.shopState.colors\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return{\n        getSubCategory:()=> dispatch(getSubCategory()),\n        GetColors: ()=>dispatch(GetColors()),\n        addProduct:(product_name,description,cat_id,price,quantity,shop_id,permission,color_id,image,file)=>dispatch(addProduct(product_name,description,cat_id,price,quantity,shop_id,permission,color_id,image,file))\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(AddProduct);"]},"metadata":{},"sourceType":"module"}