{"ast":null,"code":"import _toArray from \"C:\\\\Users\\\\kieu\\\\Desktop\\\\React_Final\\\\my_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\kieu\\\\Desktop\\\\React_Final\\\\my_app\\\\src\\\\Component\\\\Panigation\\\\Test.js\";\nimport React, { Component } from \"react\";\nimport { getAllUser } from '../../redux/user_reducer';\nimport { connect } from 'react-redux';\nimport Pagination from './Panigation';\n\nclass Test extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allUsers: [],\n      currentUsers: [],\n      currentPage: null,\n      totalPages: null\n    };\n\n    this.onPageChanged = data => {\n      const allUsers = this.state.allUsers;\n      const currentPage = data.currentPage,\n            totalPages = data.totalPages,\n            pageLimit = data.pageLimit;\n      const offset = (currentPage - 1) * pageLimit;\n      const currentUsers = allUsers.slice(offset, offset + pageLimit);\n      this.setState({\n        currentPage,\n        currentUsers,\n        totalPages\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.getAllUser();\n    const allUsers = this.props.allUsers;\n    this.setState({\n      allUsers\n    });\n  } // componentWillMount()\n  // {\n  //   this.props.getAllUser();\n  // }\n\n\n  render() {\n    const _this$props = this.props,\n          _this$props$allUsers = _toArray(_this$props.allUsers),\n          _this$props$currentUs = _toArray(_this$props.currentUsers),\n          currentPage = _this$props.currentPage,\n          totalPages = _this$props.totalPages;\n\n    const totalUsers = allUsers.length;\n    if (totalUsers === 0) return null;\n    const headerClass = [\"text-dark py-2 pr-4 m-0\", currentPage ? \"border-gray border-right\" : \"\"].join(\" \").trim();\n    return React.createElement(\"div\", {\n      className: \"container mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row d-flex flex-row py-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex flex-row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: headerClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      className: \"text-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, totalUsers), \" \", \"Users\"), currentPage && React.createElement(\"span\", {\n      className: \"current-page d-inline-block h-100 pl-4 text-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Page \", React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, currentPage), \" /\", \" \", React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, totalPages))), React.createElement(\"div\", {\n      className: \"d-flex flex-row py-4 align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      totalRecords: totalUsers,\n      pageLimit: 1,\n      pageNeighbours: 1,\n      onPageChanged: this.onPageChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), currentUsers.length > 0 && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, currentUsers.map(user => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, user.user_name)))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  //store.dispatch(action)\n  return {\n    getAllUser: () => dispatch(getAllUser())\n  };\n};\n\nconst mapStateToProps = state => {\n  //tra state return ve tu reducer ve thanh prop\n  console.log(\"log ra user\");\n  console.log(state.userState.allUser);\n  return {\n    allUsers: state.userState.allUser\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Test);","map":{"version":3,"sources":["C:/Users/kieu/Desktop/React_Final/my_app/src/Component/Panigation/Test.js"],"names":["React","Component","getAllUser","connect","Pagination","Test","state","allUsers","currentUsers","currentPage","totalPages","onPageChanged","data","pageLimit","offset","slice","setState","componentDidMount","props","render","totalUsers","length","headerClass","join","trim","map","user","user_name","mapDispatchToProps","dispatch","mapStateToProps","console","log","userState","allUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { getAllUser} from '../../redux/user_reducer';\r\nimport { connect } from 'react-redux';\r\nimport Pagination from './Panigation';\r\nclass Test extends Component {\r\n  state = {\r\n    allUsers: [],\r\n    currentUsers: [],\r\n    currentPage: null,\r\n    totalPages: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAllUser();\r\n    const allUsers=this.props.allUsers;\r\n    this.setState({ allUsers });\r\n  }\r\n  // componentWillMount()\r\n  // {\r\n  //   this.props.getAllUser();\r\n  // }\r\n  onPageChanged = data => {\r\n    const { allUsers } = this.state;\r\n    const { currentPage, totalPages, pageLimit } = data;\r\n\r\n    const offset = (currentPage - 1) * pageLimit;\r\n    const currentUsers = allUsers.slice(offset, offset + pageLimit);\r\n\r\n    this.setState({ currentPage, currentUsers, totalPages });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      allUsers:[],\r\n      currentUsers:[],\r\n      currentPage,\r\n      totalPages\r\n    } = this.props;\r\n    const totalUsers = allUsers.length;\r\n\r\n    if (totalUsers === 0) return null;\r\n\r\n    const headerClass = [\r\n      \"text-dark py-2 pr-4 m-0\",\r\n      currentPage ? \"border-gray border-right\" : \"\"\r\n    ]\r\n      .join(\" \")\r\n      .trim();\r\n\r\n    return (\r\n      <div className=\"container mb-5\">\r\n        <div className=\"row d-flex flex-row py-5\">\r\n          <div className=\"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between\">\r\n            <div className=\"d-flex flex-row align-items-center\">\r\n              <h2 className={headerClass}>\r\n                <strong className=\"text-secondary\">{totalUsers}</strong>{\" \"}\r\n                Users\r\n              </h2>\r\n              {currentPage && (\r\n                <span className=\"current-page d-inline-block h-100 pl-4 text-secondary\">\r\n                  Page <span className=\"font-weight-bold\">{currentPage}</span> /{\" \"}\r\n                  <span className=\"font-weight-bold\">{totalPages}</span>\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"d-flex flex-row py-4 align-items-center\">\r\n              <Pagination\r\n                totalRecords={totalUsers}\r\n                pageLimit={1}\r\n                pageNeighbours={1}\r\n                onPageChanged={this.onPageChanged}\r\n              />\r\n            </div>\r\n          </div>\r\n          {currentUsers.length>0 &&<div>\r\n          {currentUsers.map(user=> (\r\n           <div>{user.user_name}</div>\r\n          ))}\r\n          </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {//store.dispatch(action)\r\n    return {\r\n         getAllUser:() =>dispatch(getAllUser())\r\n  };\r\n}      \r\n  const mapStateToProps = (state) => {//tra state return ve tu reducer ve thanh prop\r\n        console.log(\"log ra user\");\r\n        console.log(state.userState.allUser);\r\n          return {\r\n              allUsers:state.userState.allUser,\r\n            \r\n          };\r\n          }\r\n      \r\n  export default connect(mapStateToProps,mapDispatchToProps)(Test);\r\n"]},"metadata":{},"sourceType":"module"}