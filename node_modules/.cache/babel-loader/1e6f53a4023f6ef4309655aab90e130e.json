{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\kieu\\\\Desktop\\\\final_project\\\\my_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nconst GET_USER = 'GET_USER';\nconst UPDATE_USER = 'UPDATE_USER';\nconst DELETE_USER = DELETE_USER;\nexport function getUser(user) {\n  return dispatch => {\n    dispatch({\n      type: GET_USER,\n      payload: user\n    });\n  };\n}\nexport function updateUser(id, user_name, email, phone, address, password, newpassword, role) {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: \"https://127.0.0.1:5001/api/User/\".concat(id),\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(Response => {\n      if (Response.status == \"200\") {\n        if (Response.data.password == password) {\n          if (password == newpassword) {\n            var user = {\n              id: id,\n              user_name: user_name,\n              password: newpassword,\n              email: email,\n              phone: phone,\n              address: address,\n              role: role\n            };\n            axios({\n              method: 'put',\n              url: \"https://127.0.0.1:5001/api/User/\".concat(id),\n              data: user,\n              headers: {\n                'Content-Type': 'application/json',\n                Accept: 'application/json',\n                'Authorization': 'Bearer ' + localStorage.getItem('token')\n              }\n            }).then(res => {\n              if (res.status == \"200\") {\n                alert(\"cap nhat thanh cong!!\");\n                dispatch({\n                  type: UPDATE_USER,\n                  payload: user\n                });\n              }\n            });\n          } else {\n            alert(\"Password va Password confirm khong khop,vui long nhap lai\");\n          }\n        } else {\n          alert(\"password cu khong chinh xac!!\");\n        }\n      }\n    });\n  };\n}\nexport function deleteUser(id) {\n  var check = false;\n  var list_order = [];\n  axios({\n    method: 'get',\n    url: \"https://127.0.0.1:5001/api/Order/user/\".concat(id),\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem('token')\n    }\n  }).then(Response => {\n    if (Response.status == \"200\") {\n      check = true;\n      list_order = Response.data;\n    }\n  });\n\n  if (check == false) {\n    axios({\n      method: 'delete',\n      url: \"https://127.0.0.1:5001/api/user/\".concat(id),\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(Response => {\n      if (Response.status == \"200\") alert(\"delete thanh cong!!\");\n    });\n  }\n}\nvar dt = JSON.parse(localStorage.getItem('User'));\nvar initialState = {\n  user: dt ? dt : null\n};\nexport default function admin_reducer(state = initialState, action) {\n  if (action.type == 'GET_USER') {\n    let newState = _objectSpread({}, state);\n\n    newState.user = action.payload;\n    localStorage.setItem('User', JSON.stringify(newState.user));\n    return newState;\n  }\n\n  if (action.type == 'UPDATE_USER') {\n    let newState = _objectSpread({}, state);\n\n    newState.user = action.payload;\n    localStorage.setItem('User', JSON.stringify(newState.user));\n    return newState;\n  } else return state;\n}","map":{"version":3,"sources":["C:/Users/kieu/Desktop/final_project/my_app/src/redux/admin_reducer.js"],"names":["axios","GET_USER","UPDATE_USER","DELETE_USER","getUser","user","dispatch","type","payload","updateUser","id","user_name","email","phone","address","password","newpassword","role","method","url","headers","Accept","localStorage","getItem","then","Response","status","data","res","alert","deleteUser","check","list_order","dt","JSON","parse","initialState","admin_reducer","state","action","newState","setItem","stringify"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nconst GET_USER='GET_USER';\r\nconst UPDATE_USER='UPDATE_USER';\r\nconst DELETE_USER=DELETE_USER;\r\nexport function getUser(user)\r\n{\r\nreturn  dispatch=>{\r\ndispatch({type:GET_USER,payload:user});\r\n\r\n}\r\n}\r\nexport function  updateUser(id,user_name,email,phone,address,password,newpassword,role)\r\n{  \r\n    return dispatch => {axios({\r\n      method:'get',\r\n      url: `https://127.0.0.1:5001/api/User/${id}`,\r\n      headers:{\r\n       'Content-Type': 'application/json',\r\n       Accept: 'application/json',\r\n       'Authorization':'Bearer '+localStorage.getItem('token')\r\n     }\r\n  \r\n     }).then(Response=>{\r\n      if(Response.status==\"200\") {\r\n      if(Response.data.password==password) \r\n       { if(password==newpassword)\r\n         {  var user={\r\n          id:id,\r\n          user_name:user_name,\r\n          password:newpassword,\r\n          email :email,\r\n          phone:phone,\r\n          address:address,\r\n          role:role\r\n         }\r\n          axios({\r\n              method:'put',\r\n              url: `https://127.0.0.1:5001/api/User/${id}`,\r\n              data:user,\r\n               headers:{\r\n                'Content-Type': 'application/json',\r\n                Accept: 'application/json',\r\n                'Authorization':'Bearer '+localStorage.getItem('token')\r\n              }\r\n             }).then(res=>{\r\n              if(res.status==\"200\")\r\n                 {alert(\"cap nhat thanh cong!!\")\r\n                   dispatch({type:UPDATE_USER,payload:user});\r\n                  \r\n                 }\r\n  \r\n                  \r\n             })   \r\n         }   \r\n         else {alert(\"Password va Password confirm khong khop,vui long nhap lai\");}\r\n  \r\n       }\r\n       else {alert(\"password cu khong chinh xac!!\");}\r\n  \r\n      }\r\n  \r\n  \r\n     })\r\n       \r\n      }\r\n}\r\nexport function deleteUser(id)\r\n{ var check=false;\r\n  var list_order=[];\r\n  axios({\r\n  method:'get',\r\n  url: `https://127.0.0.1:5001/api/Order/user/${id}`,\r\n  headers:{\r\n   'Content-Type': 'application/json',\r\n   Accept: 'application/json',\r\n   'Authorization':'Bearer '+localStorage.getItem('token')\r\n }\r\n\r\n }).then(Response=>{\r\n   if(Response.status==\"200\") {check=true; list_order=Response.data;}\r\n })\r\n if(check==false)\r\n { axios({\r\n  method:'delete',\r\n  url: `https://127.0.0.1:5001/api/user/${id}`,\r\n  headers:{\r\n   'Content-Type': 'application/json',\r\n   Accept: 'application/json',\r\n   'Authorization':'Bearer '+localStorage.getItem('token')\r\n }\r\n\r\n }).then(Response=>{\r\n\r\nif(Response.status==\"200\") alert(\"delete thanh cong!!\");\r\n }\r\n )\r\n }\r\n\r\n\r\n}\r\n \r\nvar dt=JSON.parse(localStorage.getItem('User'));\r\nvar initialState={\r\n   user:dt?dt:null\r\n  }\r\n  export default function admin_reducer(state =initialState, action) {\r\n    if(action.type=='GET_USER')\r\n    {  \r\n      let newState={...state};\r\n      newState.user=action.payload;\r\n      localStorage.setItem('User',JSON.stringify(newState.user));\r\n      return newState;\r\n    }\r\n    if(action.type=='UPDATE_USER')\r\n    {\r\n      let newState={...state};\r\n      newState.user=action.payload;\r\n      localStorage.setItem('User',JSON.stringify(newState.user));\r\n      return newState;\r\n    }\r\n    else return state;\r\n  }"]},"metadata":{},"sourceType":"module"}