{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kieu\\\\Desktop\\\\final_project\\\\my_app\\\\src\\\\Component\\\\Shop\\\\Payment.js\";\nimport React from 'react';\nimport Dashboard from './Dashboard';\nimport { connect } from 'react-redux';\nimport { getListPayment, getPaypalAccountOfWeb, setPaymentforweb } from '../../redux/shop_reducer';\nimport Moment from 'react-moment';\nimport axios from 'axios';\nimport PaypalButton from '../Paypal/PaypalButton.js';\n\nclass Payment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMore: false,\n      finish: 4\n    };\n  }\n\n  handleClick() {\n    this.setState({\n      showMore: true\n    });\n    this.setState(prevState => ({\n      finish: prevState.finish + 4\n    }));\n  }\n\n  componentWillMount() {\n    this.props.getPaymentOfShop();\n    this.props.getPaypalAccountOfWeb();\n  }\n\n  render() {\n    let _this$props = this.props,\n        _this$props$list_paym = _this$props.list_payments,\n        list_payments = _this$props$list_paym === void 0 ? [] : _this$props$list_paym,\n        _this$props$paypalacc = _this$props.paypalacc,\n        paypalacc = _this$props$paypalacc === void 0 ? [] : _this$props$paypalacc;\n    let key = this.props.key;\n    const numberOfItems = this.state.showMore ? this.state.finish : 4; //payment for web\n\n    const CLIENT = {\n      sandbox: paypalacc.sandbox,\n      production: paypalacc.production\n    };\n    const ENV = process.env.NODE_ENV === 'production' ? 'production' : 'sandbox';\n\n    const onSuccess = payment => {\n      alert(\"giao dich thanh cong!!!\");\n      console.log('Successful payment!', payment);\n    };\n\n    const onError = error => console.log('Erroneous payment OR failed to load script!', error);\n\n    const onCancel = data => console.log('Cancelled payment!', data);\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-3 col-sm-3 col-md-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-xs-9 col-sm-9 col-md-9 col-lg-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \" Shop>Thanh To\\xE1n \"), React.createElement(\"hr\", {\n      style: {\n        width: \"800px\",\n        marginLeft: \"7px\",\n        marginTop: \"5px\",\n        backgroundColor: \"#000000\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Thanh to\\xE1n \"), paypalacc.length > 0 && paypalacc.map((item3, i) => {\n      const CLIENT = {\n        sandbox: item3.sandbox,\n        production: item3.production\n      };\n      const ENV = process.env.NODE_ENV === 'production' ? 'production' : 'sandbox';\n\n      const onSuccess = payment => {\n        alert(\"giao dich thanh cong!!!\");\n        console.log('Successful payment!', payment);\n        this.props.setPaymentforWeb();\n      };\n\n      const onError = error => console.log('Erroneous payment OR failed to load script!', error);\n\n      const onCancel = data => console.log('Cancelled payment!', data);\n\n      return React.createElement(PaypalButton, {\n        client: CLIENT,\n        env: ENV,\n        commit: true,\n        currency: 'USD',\n        total: 200000,\n        onSuccess: onSuccess,\n        onError: onError,\n        onCancel: onCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    })), React.createElement(\"p\", {\n      style: {\n        fontSize: \"32px\",\n        fontFamily: \"'Times New Roman', Times, serif\",\n        marginTop: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"L\\u1ECBch s\\u1EED thanh to\\xE1n\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"T\\xECm ki\\u1EBFm\",\n      style: {\n        width: \"170px\",\n        marginTop: \"20px\",\n        float: \"left\"\n      },\n      onChange: e => {\n        this.setState({\n          key: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      style: {\n        width: \"10%\",\n        marginTop: \"20px\",\n        float: \"left\",\n        marginRight: \"50px\",\n        color: \"black\"\n      },\n      onClick: e => {\n        this.props.getShopByName(this.state.key);\n      },\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"T\\xECm\")), React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        marginTop: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped\",\n      style: {\n        fontSize: \"20px\",\n        fontFamily: \"Times New Roman', Times, serif\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"STT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"T\\xEAn c\\u1EEDa h\\xE0ng\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"T\\xEAn ch\\u1EE7 c\\u1EEDa h\\xE0ng\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Ng\\xE0y thanh to\\xE1n\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Ng\\xE0y h\\u1EBFt h\\u1EA1n\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Ph\\xED thanh to\\xE1n\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"H\\xE0nh \\u0111\\u1ED9ng\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, list_payments.length > 0 && list_payments.slice(0, numberOfItems).map((item, i) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, i), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, item.shop_name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, item.user_name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \" \", React.createElement(Moment, {\n        format: \"DD/MM/YYYY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, item.date_paid)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \" \", React.createElement(Moment, {\n        format: \"DD/MM/YYYY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, item.date_expired)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, item.money), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }));\n    }))))), React.createElement(\"div\", {\n      className: \"button\",\n      style: {\n        marginLeft: \"300px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleClick(),\n      type: \"button\",\n      className: \"btn btn-default\",\n      style: {\n        color: \"black\",\n        backgroundColor: \"brown\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Xem th\\xEAm\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    list_payments: state.shopState.list_payments,\n    paypalacc: state.shopState.webpaypal\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  //store.dispatch(action)\n  return {\n    getPaymentOfShop: () => dispatch(getListPayment()),\n    getPaypalAccountOfWeb: () => dispatch(getPaypalAccountOfWeb()),\n    setPaymentforWeb: () => dispatch(setPaymentforweb())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Payment);","map":{"version":3,"sources":["C:/Users/kieu/Desktop/final_project/my_app/src/Component/Shop/Payment.js"],"names":["React","Dashboard","connect","getListPayment","getPaypalAccountOfWeb","setPaymentforweb","Moment","axios","PaypalButton","Payment","Component","constructor","props","state","showMore","finish","handleClick","setState","prevState","componentWillMount","getPaymentOfShop","render","list_payments","paypalacc","key","numberOfItems","CLIENT","sandbox","production","ENV","process","env","NODE_ENV","onSuccess","payment","alert","console","log","onError","error","onCancel","data","fontFamily","width","marginLeft","marginTop","backgroundColor","length","map","item3","i","setPaymentforWeb","fontSize","float","e","target","value","marginRight","color","getShopByName","slice","item","shop_name","user_name","date_paid","date_expired","money","mapStateToProps","shopState","webpaypal","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Dashboard from './Dashboard';\r\nimport { connect } from 'react-redux';\r\nimport {getListPayment,getPaypalAccountOfWeb,setPaymentforweb} from '../../redux/shop_reducer';\r\nimport Moment from 'react-moment';\r\nimport axios from 'axios';\r\nimport PaypalButton from '../Paypal/PaypalButton.js';\r\nclass Payment extends React.Component\r\n{  constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n          showMore: false,\r\n          finish:4\r\n        }\r\n  }\r\n    handleClick() {\r\n      this.setState({showMore: true})\r\n      this.setState((prevState) => ({\r\n      finish: prevState.finish + 4\r\n      }));\r\n    }\r\n   componentWillMount()\r\n   { \r\n       this.props.getPaymentOfShop();\r\n       this.props.getPaypalAccountOfWeb();\r\n   }\r\n  render(){\r\n      let{list_payments=[],paypalacc=[]}=this.props;\r\n      let{key}=this.props;\r\n      const numberOfItems = this.state.showMore ? this.state.finish : 4;\r\n      //payment for web\r\n    \r\n      const CLIENT = {\r\n        sandbox:paypalacc.sandbox,\r\n        production:paypalacc.production,\r\n        };\r\n        const ENV = process.env.NODE_ENV === 'production'\r\n          ? 'production'\r\n          : 'sandbox'; \r\n          const onSuccess = (payment) =>\r\n          { alert(\"giao dich thanh cong!!!\");\r\n            console.log('Successful payment!', payment);\r\n          }\r\n          const onError = (error) =>\r\n            console.log('Erroneous payment OR failed to load script!', error);\r\n          const onCancel = (data) =>\r\n            console.log('Cancelled payment!', data);  \r\n        \r\n      return (\r\n          <div>\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                <Dashboard></Dashboard>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9\">\r\n              <div className=\"row\">\r\n                 \r\n                        <div >\r\n                            <div >\r\n                                <h2 style={{fontFamily:\"'Times New Roman', Times, serif\"}}> Shop>Thanh Toán </h2>\r\n                                <hr style={{width:\"800px\",marginLeft:\"7px\",marginTop:\"5px\",backgroundColor:\"#000000\"}}></hr>\r\n                                <h2 style={{fontFamily:\"'Times New Roman', Times, serif\"}}>Thanh toán </h2>\r\n                                {paypalacc.length>0&&\r\n                                 paypalacc.map((item3,i)=>\r\n                                 {\r\n                                 const CLIENT = {\r\n                                  sandbox:item3.sandbox,\r\n                                  production:item3.production,\r\n                                  };\r\n                                  const ENV = process.env.NODE_ENV === 'production'\r\n                                    ? 'production'\r\n                                    : 'sandbox'; \r\n                                    const onSuccess = (payment) =>\r\n                                    { alert(\"giao dich thanh cong!!!\");\r\n                                      console.log('Successful payment!', payment);\r\n                                      this.props.setPaymentforWeb();\r\n                                    }\r\n                                    const onError = (error) =>\r\n                                      console.log('Erroneous payment OR failed to load script!', error);\r\n                                    const onCancel = (data) =>\r\n                                      console.log('Cancelled payment!', data);  \r\n                                 return( \r\n                                <PaypalButton\r\n                                client={CLIENT}\r\n                                env={ENV}\r\n                                commit={true}\r\n                                currency={'USD'}\r\n                                total={200000}\r\n                                onSuccess={onSuccess}\r\n                                onError={onError}\r\n                                onCancel={onCancel}/>\r\n                                 )\r\n                                 })}\r\n                               </div >\r\n                            \r\n                            <p style={{fontSize:\"32px\",fontFamily:\"'Times New Roman', Times, serif\",marginTop:\"30px\"}}>Lịch sử thanh toán</p>\r\n                            <div className=\"row\">\r\n                            <input className=\"form-control\" type=\"text\" placeholder=\"Tìm kiếm\" style={{width:\"170px\",marginTop:\"20px\",float:\"left\"}} onChange={e=>{this.setState({key:e.target.value})}}></input>\r\n                            <button style={{width:\"10%\",marginTop:\"20px\",float:\"left\",marginRight:\"50px\",color:\"black\"}} onClick={e=>{this.props.getShopByName(this.state.key)}} className=\"form-control\">Tìm</button>\r\n                            </div>\r\n                            <div className=\"row\" style={{marginTop:\"20px\"}}>\r\n                            \r\n                                <table className=\"table table-striped\" style={{fontSize:\"20px\",fontFamily:\"Times New Roman', Times, serif\"}}>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>STT</th>\r\n                                    <th>Tên cửa hàng</th>\r\n                                    <th>Tên chủ cửa hàng</th>\r\n                                    <th>Ngày thanh toán</th>\r\n                                    <th>Ngày hết hạn</th>\r\n                                    <th>Phí thanh toán</th>\r\n                                    <th>Hành động</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {list_payments.length>0&&\r\n                               list_payments.slice(0, numberOfItems).map((item,i)=>\r\n                              {\r\n                             return(\r\n                                <tr>\r\n                                  <td>{i}</td>\r\n                                  <td>{item.shop_name}</td>\r\n                                   <td>{item.user_name}</td>\r\n                                  <td> <Moment format=\"DD/MM/YYYY\">\r\n                                   {item.date_paid}\r\n                                   </Moment>\r\n                                   </td>\r\n                                   <td> <Moment format=\"DD/MM/YYYY\">\r\n                                   {item.date_expired}\r\n                                   </Moment>\r\n                                   </td>\r\n                                  <td>{item.money}</td>\r\n                                  \r\n                                  <td>\r\n                                   \r\n \r\n                                  </td>\r\n                                </tr>\r\n \r\n \r\n                             \r\n                             )\r\n                        })\r\n\r\n                             \r\n                             \r\n\r\n\r\n                             }\r\n\r\n\r\n                            </tbody>\r\n                            </table>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"button\" style={{marginLeft:\"300px\"}}>\r\n        <button onClick={()=> this.handleClick()}  type=\"button\" className=\"btn btn-default\" style={{color:\"black\",backgroundColor:\"brown\"}}>Xem thêm</button>\r\n        </div>                \r\n                        </div>\r\n                    </div>\r\n              \r\n              </div>\r\n           \r\n  );\r\n}\r\n}\r\nconst mapStateToProps = state => {\r\n    return {list_payments:state.shopState.list_payments,\r\n            paypalacc:state.shopState.webpaypal\r\n            }\r\n    }\r\n    const mapDispatchToProps = (dispatch) => {//store.dispatch(action)\r\n        return {\r\n          getPaymentOfShop:()=>dispatch(getListPayment()),\r\n          getPaypalAccountOfWeb:()=>dispatch(getPaypalAccountOfWeb()),\r\n          setPaymentforWeb:()=>dispatch(setPaymentforweb())\r\n        };\r\n        }\r\n    \r\nexport default connect(mapStateToProps,mapDispatchToProps)(Payment);\r\n"]},"metadata":{},"sourceType":"module"}