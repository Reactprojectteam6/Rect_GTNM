{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\kieu\\\\Desktop\\\\final_project\\\\my_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nconst GET_USER = 'GET_USER';\nconst UPDATE_USER = 'UPDATE_USER';\nexport function getUser(user) {\n  return dispatch => {\n    dispatch({\n      type: GET_USER,\n      payload: user\n    });\n  };\n}\nexport function updateUser(id, user_name, email, phone, address, password, newpassword) {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: \"https://127.0.0.1:5001/api/User/\".concat(id),\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(Response => {\n      if (Response.status == \"200\") {\n        if (Response.data.password == password) {\n          if (password == newpassword) {\n            var user = {\n              user_name: user_name,\n              password: newpassword,\n              email: email,\n              phone: phone,\n              address: address\n            };\n            axios({\n              method: 'put',\n              url: \"https://127.0.0.1:5001/api/User/\".concat(id),\n              data: user,\n              headers: {\n                'Content-Type': 'application/json',\n                Accept: 'application/json',\n                'Authorization': 'Bearer ' + localStorage.getItem('token')\n              }\n            }).then(res => {\n              if (res.status == \"200\") {\n                dispatch({\n                  type: UPDATE_USER,\n                  payload: user\n                });\n              }\n            });\n          } else {\n            alert(\"Password va Password confirm khong khop,vui long nhap lai\");\n          }\n        } else {\n          alert(\"password cu khong chinh xac!!\");\n        }\n      }\n    });\n  };\n}\nvar dt = JSON.parse(localStorage.getItem('User'));\nvar initialState = {\n  user: dt ? dt : null\n};\nexport default function admin_reducer(state = initialState, action) {\n  if (action.type == 'GET_USER') {\n    let newState = _objectSpread({}, state);\n\n    newState.user = action.payload;\n    localStorage.setItem('User', JSON.stringify(newState.user));\n    return newState;\n  }\n\n  if (action.type == 'UPDATE_USER') {\n    let newState = _objectSpread({}, state);\n\n    newState.user = action.payload;\n    localStorage.setItem('User', JSON.stringify(newState.user));\n    return newState;\n  } else return state;\n}","map":{"version":3,"sources":["C:/Users/kieu/Desktop/final_project/my_app/src/redux/admin_reducer.js"],"names":["GET_USER","UPDATE_USER","getUser","user","dispatch","type","payload","updateUser","id","user_name","email","phone","address","password","newpassword","axios","method","url","headers","Accept","localStorage","getItem","then","Response","status","data","res","alert","dt","JSON","parse","initialState","admin_reducer","state","action","newState","setItem","stringify"],"mappings":"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","sourcesContent":["const GET_USER='GET_USER';\r\nconst UPDATE_USER='UPDATE_USER';\r\nexport function getUser(user)\r\n{\r\nreturn  dispatch=>{\r\ndispatch({type:GET_USER,payload:user});\r\n\r\n}\r\n}\r\nexport function  updateUser(id,user_name,email,phone,address,password,newpassword)\r\n{  \r\n    return dispatch => {axios({\r\n      method:'get',\r\n      url: `https://127.0.0.1:5001/api/User/${id}`,\r\n      headers:{\r\n       'Content-Type': 'application/json',\r\n       Accept: 'application/json',\r\n       'Authorization':'Bearer '+localStorage.getItem('token')\r\n     }\r\n  \r\n     }).then(Response=>{\r\n      if(Response.status==\"200\") {\r\n      if(Response.data.password==password) \r\n       { if(password==newpassword)\r\n         {  var user={\r\n          user_name:user_name,\r\n          password:newpassword,\r\n          email :email,\r\n          phone:phone,\r\n          address:address,\r\n         }\r\n          axios({\r\n              method:'put',\r\n              url: `https://127.0.0.1:5001/api/User/${id}`,\r\n              data:user,\r\n               headers:{\r\n                'Content-Type': 'application/json',\r\n                Accept: 'application/json',\r\n                'Authorization':'Bearer '+localStorage.getItem('token')\r\n              }\r\n             }).then(res=>{\r\n              if(res.status==\"200\")\r\n                 {dispatch({type:UPDATE_USER,payload:user});\r\n                  \r\n                 }\r\n  \r\n                  \r\n             })   \r\n         }   \r\n         else {alert(\"Password va Password confirm khong khop,vui long nhap lai\");}\r\n  \r\n       }\r\n       else {alert(\"password cu khong chinh xac!!\");}\r\n  \r\n      }\r\n  \r\n  \r\n     })\r\n       \r\n      }\r\n}\r\n\r\n \r\nvar dt=JSON.parse(localStorage.getItem('User'));\r\nvar initialState={\r\n   user:dt?dt:null\r\n  }\r\n  export default function admin_reducer(state =initialState, action) {\r\n    if(action.type=='GET_USER')\r\n    {  \r\n      let newState={...state};\r\n      newState.user=action.payload;\r\n      localStorage.setItem('User',JSON.stringify(newState.user));\r\n      return newState;\r\n    }\r\n    if(action.type=='UPDATE_USER')\r\n    {\r\n      let newState={...state};\r\n      newState.user=action.payload;\r\n      localStorage.setItem('User',JSON.stringify(newState.user));\r\n      return newState;\r\n    }\r\n    else return state;\r\n  }"]},"metadata":{},"sourceType":"module"}