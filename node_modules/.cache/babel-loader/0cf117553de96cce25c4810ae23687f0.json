{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\kieu\\\\Desktop\\\\final_project\\\\my_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from \"axios\";\nconst GET_PRODUCTS_ONSHOP = 'GET_PRODUCTS_ONSHOP';\nconst GET_SHOP_ID = 'GET_SHOP_ID';\nconst GET_SHOP = 'GET_SHOP';\nconst UPDATE_SHOP = 'UPDATE_SHOP';\nconst GET_ORDERS_SHOP = 'GET_ORDERS_SHOP';\nconst DELETE_ORDER = 'DELETE_ORDER';\nconst GET_ORDER_BY_ID = 'GET_ORDER_BY_ID';\nconst UPDATE_ORDER = 'UPDATE_ORDER';\nconst SET_PERMISSION_PRODUCT = 'SET_PERMISSION_PRODUCT';\nconst GET_PRODUCT_DETAIL = 'GET_PRODUCT_DETAIL';\nconst ADD_PRODUCT = 'ADD_PRODUCT';\nconst ADD_EXCEL = 'ADD_EXCEL'; //lay products tra ve form\n\nexport function getProductsShop(shop_id) {\n  //alert(shop_id);\n  return dispath => {\n    CallApi(shop_id, data => {\n      dispath(setProductsShop(data));\n    });\n  };\n} //action products shop\n\nfunction setProductsShop(products) {\n  return {\n    type: GET_PRODUCTS_ONSHOP,\n    products\n  };\n} //lay product trong shop tren api\n\n\nfunction CallApi(shop_id, callback) {\n  axios({\n    method: 'get',\n    url: \"https://127.0.0.1:5001/api/Product/Shop/\".concat(shop_id),\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n    }\n  }).then(response => {\n    if (response.data != null) {\n      console.log(response.data);\n      callback(response.data);\n    } else callback(new \"can't get data\"());\n  });\n} //lay shop_id biet user_id\n\n\nexport function getShopID() {\n  return dispath => {\n    callShopIDApi(data => {\n      dispath(setShopID(data));\n    });\n  };\n}\n\nfunction setShopID(shop_id) {\n  return {\n    type: GET_SHOP_ID,\n    shop_id\n  };\n}\n\nfunction callShopIDApi(callback) {\n  //var token='Bearer '+localStorage.getItem(\"token\");\n  var user = JSON.parse(localStorage.getItem('currentUser')); //    console.log(user.id);\n\n  if (user != null) {\n    var token = 'Bearer ' + localStorage.getItem(\"token\");\n    axios({\n      method: 'get',\n      url: \"https://127.0.0.1:5001/api/User/\".concat(user.id, \"/shop\"),\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      if (response.data != null) callback(response.data);else callback(null);\n    }).catch(err => console.log(err));\n  } else alert(\"Vui lòng đăng nhập!! please!!!\");\n} //lay shop tu shop_id\n\n\nexport function getShop(shop_id) {\n  return dispath => {\n    callShopApi(shop_id, data => {\n      dispath(setShop(data));\n    });\n  };\n}\n\nfunction setShop(shop) {\n  return {\n    type: GET_SHOP,\n    shop\n  };\n}\n\nfunction callShopApi(shop_id, callback) {\n  var user = JSON.parse(localStorage.getItem('currentUser'));\n\n  if (user != null) {\n    var token = 'Bearer ' + localStorage.getItem(\"token\");\n    axios({\n      method: 'get',\n      url: \"https://127.0.0.1:5001/api/User/shop/\".concat(shop_id),\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      if (response.data != null) callback(response.data);else callback(new \"can't get data\"());\n    }).catch(err => console.log(err));\n  } else alert(\"Vui lòng đăng nhập!! please!!!\");\n} //UPDATE SHOP\n\n\nexport function UpdateShop(shop_id, name, address) {\n  return dispath => {\n    callUpdateShop(shop_id, name, address, data => {\n      dispath(setUpdateShop(data));\n    });\n  };\n}\n\nfunction setUpdateShop(shop) {\n  return {\n    type: UPDATE_SHOP,\n    shop\n  };\n}\n\nexport function callUpdateShop(shop_id, name, address, callback) {\n  //var oldShop = JSON.parse(localStorage.getItem('Shop'));\n  var newShop = {\n    shop_name: name,\n    address: address\n  };\n  console.log(newShop);\n  axios({\n    method: 'put',\n    url: \"https://127.0.0.1:5001/api/User/shop/\".concat(shop_id),\n    data: newShop,\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n    }\n  }).then(response => {\n    if (response.data != null) {\n      axios({\n        method: 'get',\n        url: \"https://127.0.0.1:5001/api/User/shop/\".concat(shop_id),\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n          'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n        }\n      }).then(response1 => {\n        if (response1.data != null) {\n          localStorage.setItem('Shop', JSON.stringify(response1.data));\n          alert(\"Update completed!!!!\");\n        }\n      });\n      return callback(response.data);\n    } else {\n      alert(\"Can't update!! Try again later!!\");\n      return callback(null);\n    }\n  });\n} //ACTION CREATER GET ORDERS\n\nexport function getOrdersShop(shop_id) {\n  return dispath => {\n    callOrdersShop(shop_id, data => {\n      dispath(setOrdersShop(data));\n    });\n  };\n}\n\nfunction setOrdersShop(orders) {\n  return {\n    type: GET_ORDERS_SHOP,\n    orders\n  };\n}\n\nexport function callOrdersShop(shop_id, callback) {\n  axios({\n    method: 'get',\n    url: \"https://127.0.0.1:5001/api/Order/shop/\".concat(shop_id)\n  }).then(response => {\n    if (response.data != null) callback(response.data);else callback(null);\n  });\n} //DELETE ORDER\n\nexport function DeleteOrder(id) {\n  return dispath => {\n    callDeleteOrder(id, data => {\n      dispath(setDeleteOrder(data));\n    });\n  };\n}\n\nfunction setDeleteOrder(orders) {\n  return {\n    type: DELETE_ORDER,\n    orders\n  };\n}\n\nexport function callDeleteOrder(id, callback) {\n  axios({\n    method: 'delete',\n    url: \"https://127.0.0.1:5001/api/Order/\".concat(id)\n  }).then(response => {\n    if (response.data != null) {\n      axios({\n        method: 'get',\n        url: \"https://127.0.0.1:5001/api/Order/shop/\".concat(localStorage.getItem(\"shop_id\"))\n      }).then(response => {\n        if (response.data != null) callback(response.data);\n      });\n    } else alert(\"Can't delete\");\n  });\n} //LAY 1 ORDER BANG ORDER_ID\n\nexport function getOrderByID(id) {\n  return dispath => {\n    console.log(\"data\");\n    callGetOrderByID(id, data => {\n      console.log(data);\n      dispath(setOrderByID(data));\n    });\n  };\n}\n\nfunction setOrderByID(order) {\n  return {\n    type: GET_ORDER_BY_ID,\n    order\n  };\n}\n\nexport function callGetOrderByID(id, callback) {\n  axios({\n    method: 'get',\n    url: \"https://127.0.0.1:5001/api/Order/\".concat(id)\n  }).then(response => {\n    if (response.data != null) {\n      console.log(response.data);\n      callback(response.data);\n    }\n  });\n} // DUNG DE HUY HOAC XAC NHAN DON HANG\n\nexport function UpdateOrder(id, status) {\n  return dispatch => {\n    CallUpdateOrder(id, status, data => {\n      dispatch(setUpdateOrder(data));\n    });\n  };\n}\n\nfunction setUpdateOrder(order) {\n  return {\n    type: UPDATE_ORDER,\n    order\n  };\n}\n\nexport function CallUpdateOrder(id, status, callback) {\n  var newOrder = {\n    status: status\n  };\n  axios({\n    method: 'put',\n    url: \"https://127.0.0.1:5001/api/Order/\".concat(id),\n    data: newOrder\n  }).then(response => {\n    if (response.data != null) {\n      axios({\n        method: 'get',\n        url: \"https://127.0.0.1:5001/api/Order/\".concat(id)\n      }).then(response => {\n        if (response.data != null) {\n          alert(\"Updated!!!\");\n          localStorage.setItem(\"orderDetail\", JSON.stringify(response.data));\n          callback(response.data);\n        }\n      });\n    }\n  });\n} //update permission\n\nexport function UpdatePermission(id, permission) {\n  return dispatch => {\n    callUpdatePermission(id, permission, data => {\n      dispatch(setPermissionProduct(data));\n    });\n  };\n}\n\nfunction setPermissionProduct(products) {\n  return {\n    type: SET_PERMISSION_PRODUCT,\n    products\n  };\n}\n\nexport function callUpdatePermission(id, permission, callback) {\n  var newProduct = {\n    permission: permission\n  };\n  axios({\n    method: 'put',\n    url: \"https://127.0.0.1:5001/api/Product/\".concat(id, \"/permission\"),\n    data: newProduct\n  }).then(response => {\n    if (response.data != null) {\n      var shop_id = localStorage.getItem('shop_id');\n      axios({\n        method: 'get',\n        url: \"https://127.0.0.1:5001/api/Product/Shop/\".concat(shop_id),\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n          'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        if (res.data != null) {\n          console.log(\"call shop\");\n          console.log(res.data);\n          callback(res.data);\n        }\n      });\n    }\n  });\n} //GET PRODUCT BY ID\n\nexport function getProduct(productDetail) {\n  //alert(\"get produtc by id\");\n  return dispatch => {\n    dispatch({\n      type: GET_PRODUCT_DETAIL,\n      payload: productDetail\n    });\n  };\n} //UPDATE PRODUCT\n\nexport function UpdateProduct(id, product_name, description, cat_id, price, quantity, permission) {\n  return dispatch => {\n    callUpdateProduct(id, product_name, description, cat_id, price, quantity, permission, data => {\n      dispatch(setUpdateProduct(data));\n    });\n  };\n}\n\nfunction setUpdateProduct(productDetail) {\n  return {\n    type: 'UPDATE_PRODUCT',\n    productDetail\n  };\n}\n\nexport function callUpdateProduct(id, product_name, description, cat_id, price, quantity, permission, callback) {\n  console.log(\"state\");\n  console.log(cat_id, price, quantity);\n  var product = {\n    product_name: product_name,\n    description: description,\n    cat_id: cat_id,\n    price: price,\n    quantity: quantity,\n    permission: permission\n  };\n  axios({\n    method: 'put',\n    url: \"https://127.0.0.1:5001/api/Product/\".concat(id, \"/shop\"),\n    data: product\n  }).then(response => {\n    if (response.data != null) {\n      alert(\"Updated!!\");\n      axios({\n        method: 'get',\n        url: \"https://127.0.0.1:5001/api/Product/\".concat(id, \"/detail\")\n      }).then(res => {\n        if (res.data != null) {\n          //alert(\"dafgahsdf\");\n          callback(res.data[0]);\n        }\n      });\n    }\n  });\n} // get all color \n\nexport function GetColors() {\n  return dispatch => {\n    callGetColors(data => {\n      dispatch(setColors(data));\n    });\n  };\n}\n\nfunction setColors(colors) {\n  return {\n    type: 'GET_COLORS',\n    colors\n  };\n}\n\nexport function callGetColors(callback) {\n  axios({\n    method: 'get',\n    url: \"https://127.0.0.1:5001/api/Color\"\n  }).then(response => {\n    if (response.data != null) callback(response.data);\n  });\n} // Add product\n\nexport function addProduct(product_name, description, cat_id, price, quantity, shop_id, image, permission, color_id) {\n  return dispatch => {\n    callAddProduct(product_name, description, cat_id, price, quantity, shop_id, image, permission, color_id, data => {\n      dispatch(setAddProduct(data));\n    });\n  };\n}\n\nfunction setAddProduct(products) {\n  return {\n    type: ADD_PRODUCT,\n    products\n  };\n}\n\nexport function callAddProduct(product_name, description, cat_id, price, quantity, shop_id, image, permission, color_id, callback) {\n  var product = {\n    product_name: product_name,\n    description: description,\n    cat_id: cat_id,\n    price: price,\n    quantity: quantity,\n    shop_id: shop_id,\n    image: image,\n    permission: permission,\n    color_id: color_id\n  };\n  axios({\n    method: 'post',\n    url: \"https://127.0.0.1:5001/api/Product\",\n    data: product\n  }).then(response => {\n    if (response.data != null) {\n      alert(\"updated!!\");\n      var shop_id = localStorage.getItem('shop_id');\n      console.log(shop_id);\n      axios({\n        method: 'get',\n        url: \"https://127.0.0.1:5001/api/Product/Shop/\".concat(shop_id),\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n          'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        if (res.data != null) callback(res.data);\n      });\n    }\n  });\n} //ADD EXCEL\n\nexport function addExcel(products) {\n  return dispatch => {\n    callAddExcel(products, data => {\n      dispatch(setAddExcel(data));\n    });\n  };\n}\n\nfunction setAddExcel(products) {\n  return {\n    type: ADD_EXCEL,\n    products\n  };\n}\n\nasync function callAddExcel(products, callback) {\n  for (var i = 0; i < products.length; i++) {\n    await axios({\n      method: 'post',\n      url: \"https://127.0.0.1:5001/api/Product\",\n      data: products[i]\n    }).then(response => {\n      if (response.data != null) alert(\"Updated\");\n    });\n  }\n\n  var shop_id = localStorage.getItem('shop_id');\n  axios({\n    method: 'get',\n    url: \"https://127.0.0.1:5001/api/Product/Shop/\".concat(shop_id),\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n    }\n  }).then(res => {\n    if (res.data != null) callback(res.data);\n  });\n} //initialState\n\n\nvar data = localStorage.getItem('shop_id');\nvar data2 = JSON.parse(localStorage.getItem('productShop'));\nvar data3 = JSON.parse(localStorage.getItem('Shop'));\nvar data4 = JSON.parse(localStorage.getItem('Orders'));\nvar data5 = JSON.parse(localStorage.getItem('orderDetail'));\nvar data6 = JSON.parse(localStorage.getItem('productDetail'));\nvar shop_state = {\n  shop_id: data ? data : null,\n  shop: data3 ? data3 : null,\n  products: data2 ? data2 : [],\n  orders: data4 ? data4 : [],\n  orderDetail: data5 ? data5 : [],\n  productDetail: data6 ? data6 : null,\n  colors: []\n};\nexport default function shop_reducer(state = shop_state, action) {\n  if (action.type === 'GET_PRODUCTS_ONSHOP') {\n    let newState = _objectSpread({}, state);\n\n    newState.products = action.products;\n    localStorage.setItem(\"productShop\", JSON.stringify(newState.products));\n    return newState;\n  }\n\n  if (action.type === 'GET_SHOP_ID') {\n    let newState = _objectSpread({}, state);\n\n    newState.shop_id = action.shop_id;\n    localStorage.setItem(\"shop_id\", newState.shop_id);\n    return newState;\n  }\n\n  if (action.type === 'GET_SHOP') {\n    let newState = _objectSpread({}, state);\n\n    newState.shop = action.shop;\n    localStorage.setItem(\"Shop\", JSON.stringify(newState.shop));\n    return newState;\n  }\n\n  if (action.type === 'UPDATE_SHOP') {\n    let newState = _objectSpread({}, state);\n\n    newState.shop = action.setShop;\n    localStorage.setItem(\"Shop\", JSON.stringify(newState.shop));\n    return newState;\n  }\n\n  if (action.type === 'GET_ORDERS_SHOP') {\n    let newState = _objectSpread({}, state);\n\n    newState.orders = action.orders;\n    localStorage.setItem(\"Orders\", JSON.stringify(newState.orders));\n    return newState;\n  }\n\n  if (action.type === 'DELETE_ORDER') {\n    let newState = _objectSpread({}, state);\n\n    newState.orders = action.orders;\n    localStorage.setItem(\"Orders\", JSON.stringify(newState.orders));\n    return newState;\n  }\n\n  if (action.type === 'GET_ORDER_BY_ID') {\n    let newState = _objectSpread({}, state);\n\n    newState.orderDetail = action.order;\n    console.log(\"dfsdf\");\n    console.log(newState.orderDetail);\n    localStorage.setItem(\"orderDetail\", JSON.stringify(newState.orderDetail));\n    return newState;\n  }\n\n  if (action.type === 'UPDATE_ORDER') {\n    let newState = _objectSpread({}, state);\n\n    newState.orderDetail = action.order;\n    localStorage.setItem(\"orderDetail\", JSON.stringify(newState.orderDetail));\n    return newState;\n  }\n\n  if (action.type == 'SET_PERMISSION_PRODUCT') {\n    let newState = _objectSpread({}, state);\n\n    newState.products = action.products;\n    console.log(\"set permission\");\n    console.log(newState.products);\n    localStorage.setItem(\"productShop\", JSON.stringify(newState.products));\n    return newState;\n  }\n\n  if (action.type === 'GET_PRODUCT_DETAIL') {\n    let newState = _objectSpread({}, state);\n\n    newState.productDetail = action.payload;\n    localStorage.setItem(\"productDetail\", JSON.stringify(newState.productDetail));\n    return newState;\n  }\n\n  if (action.type == 'UPDATE_PRODUCT') {\n    let newState = _objectSpread({}, state);\n\n    newState.productDetail = action.productDetail;\n    localStorage.setItem(\"productDetail\", JSON.stringify(newState.productDetail));\n    return newState;\n  }\n\n  if (action.type === 'GET_COLORS') {\n    let newState = _objectSpread({}, state);\n\n    newState.colors = action.colors;\n    return newState;\n  }\n\n  if (action.type === 'ADD_PRODUCT') {\n    let newState = _objectSpread({}, state);\n\n    newState.products = action.products;\n    localStorage.setItem(\"productShop\", JSON.stringify(newState.products));\n    return newState;\n  }\n\n  if (action.type === 'ADD_EXCEL') {\n    let newState = _objectSpread({}, state);\n\n    newState.products = action.products;\n    newState.products = action.products;\n    localStorage.setItem(\"productShop\", JSON.stringify(newState.products));\n    return newState;\n  } else return state;\n}","map":{"version":3,"sources":["C:/Users/kieu/Desktop/final_project/my_app/src/redux/shop_reducer.js"],"names":["axios","GET_PRODUCTS_ONSHOP","GET_SHOP_ID","GET_SHOP","UPDATE_SHOP","GET_ORDERS_SHOP","DELETE_ORDER","GET_ORDER_BY_ID","UPDATE_ORDER","SET_PERMISSION_PRODUCT","GET_PRODUCT_DETAIL","ADD_PRODUCT","ADD_EXCEL","getProductsShop","shop_id","dispath","CallApi","data","setProductsShop","products","type","callback","method","url","headers","Accept","localStorage","getItem","then","response","console","log","getShopID","callShopIDApi","setShopID","user","JSON","parse","token","id","catch","err","alert","getShop","callShopApi","setShop","shop","UpdateShop","name","address","callUpdateShop","setUpdateShop","newShop","shop_name","response1","setItem","stringify","getOrdersShop","callOrdersShop","setOrdersShop","orders","DeleteOrder","callDeleteOrder","setDeleteOrder","getOrderByID","callGetOrderByID","setOrderByID","order","UpdateOrder","status","dispatch","CallUpdateOrder","setUpdateOrder","newOrder","UpdatePermission","permission","callUpdatePermission","setPermissionProduct","newProduct","res","getProduct","productDetail","payload","UpdateProduct","product_name","description","cat_id","price","quantity","callUpdateProduct","setUpdateProduct","product","GetColors","callGetColors","setColors","colors","addProduct","image","color_id","callAddProduct","setAddProduct","addExcel","callAddExcel","setAddExcel","i","length","data2","data3","data4","data5","data6","shop_state","orderDetail","shop_reducer","state","action","newState"],"mappings":"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","sourcesContent":["import  axios  from \"axios\";\n\nconst GET_PRODUCTS_ONSHOP = 'GET_PRODUCTS_ONSHOP';\nconst GET_SHOP_ID = 'GET_SHOP_ID';\nconst GET_SHOP = 'GET_SHOP';\nconst UPDATE_SHOP = 'UPDATE_SHOP';\nconst GET_ORDERS_SHOP = 'GET_ORDERS_SHOP';\nconst DELETE_ORDER = 'DELETE_ORDER';\nconst GET_ORDER_BY_ID = 'GET_ORDER_BY_ID';\nconst UPDATE_ORDER = 'UPDATE_ORDER';\nconst SET_PERMISSION_PRODUCT = 'SET_PERMISSION_PRODUCT';\nconst GET_PRODUCT_DETAIL = 'GET_PRODUCT_DETAIL';\nconst ADD_PRODUCT = 'ADD_PRODUCT';\nconst ADD_EXCEL = 'ADD_EXCEL';\n//lay products tra ve form\nexport function getProductsShop(shop_id)\n{\n    //alert(shop_id);\n    return dispath => {\n        CallApi(shop_id,data=>{\n            dispath(setProductsShop(data))\n        })\n    }\n}\n\n//action products shop\nfunction setProductsShop(products)\n{\n    return{\n        type : GET_PRODUCTS_ONSHOP,\n        products\n    }\n}\n\n\n//lay product trong shop tren api\nfunction CallApi(shop_id,callback)\n{\n    axios({\n        method: 'get',\n        url : `https://127.0.0.1:5001/api/Product/Shop/${shop_id}`,\n        headers:{\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n            'Authorization':'Bearer '+localStorage.getItem(\"token\")\n          }\n    }).then(response=>{\n        if(response.data != null)\n        {\n            console.log(response.data);\n            callback(response.data);\n        }\n        else callback(new(\"can't get data\"));\n    })\n}\n\n//lay shop_id biet user_id\nexport function getShopID()\n{\n    return dispath =>{\n        callShopIDApi(data =>{\n            dispath(setShopID(data))\n        });\n    }\n}\n\nfunction setShopID(shop_id){\n    return {\n        type : GET_SHOP_ID,\n        shop_id\n    }\n}\n\nfunction callShopIDApi(callback)\n{\n    //var token='Bearer '+localStorage.getItem(\"token\");\n    var user = JSON.parse(localStorage.getItem('currentUser'));\n//    console.log(user.id);\n    if(user != null)\n    {\n        var token='Bearer '+localStorage.getItem(\"token\");\n        axios({\n            method: 'get',\n            url: `https://127.0.0.1:5001/api/User/${user.id}/shop`,\n            headers:{\n                'Content-Type': 'application/json',\n                Accept: 'application/json',\n                'Authorization':'Bearer '+localStorage.getItem(\"token\")\n              }\n        }).then(response =>{\n            if(response.data!=null) callback(response.data);\n            else callback(null);\n        }).catch(err => console.log(err));\n    }\n    else alert(\"Vui lòng đăng nhập!! please!!!\")\n}\n\n//lay shop tu shop_id\nexport function getShop(shop_id)\n{\n    return dispath =>{\n        callShopApi(shop_id,data =>{\n            dispath(setShop(data))\n        });\n    }\n}\n\nfunction setShop(shop){\n    return {\n        type : GET_SHOP,\n        shop\n    }\n}\n\nfunction callShopApi(shop_id,callback)\n{\n    var user = JSON.parse(localStorage.getItem('currentUser'));\n    if(user != null)\n    {\n        var token='Bearer '+localStorage.getItem(\"token\");\n        axios({\n            method: 'get',\n            url: `https://127.0.0.1:5001/api/User/shop/${shop_id}`,\n            headers:{\n                'Content-Type': 'application/json',\n                Accept: 'application/json',\n                'Authorization':'Bearer '+localStorage.getItem(\"token\")\n              }\n        }).then(response =>{\n            if(response.data!=null) callback(response.data);\n            else callback(new(\"can't get data\"));\n        }).catch(err => console.log(err));\n    }\n    else alert(\"Vui lòng đăng nhập!! please!!!\")\n}\n\n//UPDATE SHOP\nexport function UpdateShop(shop_id,name,address)\n{\n    return dispath =>{\n        callUpdateShop(shop_id,name,address,data=>{\n            dispath(setUpdateShop(data))\n        })\n    }\n}\n\nfunction setUpdateShop(shop)\n{\n    return{\n        type: UPDATE_SHOP,\n        shop\n    }\n}\nexport function callUpdateShop(shop_id,name,address,callback)\n{\n    //var oldShop = JSON.parse(localStorage.getItem('Shop'));\n    var newShop = {\n        shop_name: name,\n        address: address\n    };\n    console.log(newShop);\n    axios({\n        method: 'put',\n        url: `https://127.0.0.1:5001/api/User/shop/${shop_id}`,\n        data: newShop,\n        headers:{\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n            'Authorization':'Bearer '+localStorage.getItem(\"token\")\n          }\n    }).then(response=>{\n        if(response.data!=null)\n        {\n            axios({\n                method: 'get',\n                url : `https://127.0.0.1:5001/api/User/shop/${shop_id}`,\n                headers:{\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                    'Authorization':'Bearer '+localStorage.getItem(\"token\")\n                  }\n            }).then(response1=>{\n                if(response1.data != null)\n                {                    \n                    localStorage.setItem('Shop',JSON.stringify(response1.data));\n                    alert(\"Update completed!!!!\")      \n                }\n            })\n            return callback(response.data);\n        }\n        else\n        {\n            alert(\"Can't update!! Try again later!!\")\n            return callback(null);\n        }\n    })\n}\n\n//ACTION CREATER GET ORDERS\nexport function getOrdersShop(shop_id)\n{\n    return dispath=>{\n        callOrdersShop(shop_id,data =>{\n            dispath(setOrdersShop(data))\n        })\n    }\n}\n\nfunction setOrdersShop(orders)\n{\n    return {\n        type: GET_ORDERS_SHOP,\n        orders\n    }\n}\n\nexport function callOrdersShop(shop_id,callback)\n{\n    axios({\n        method: 'get',\n        url: `https://127.0.0.1:5001/api/Order/shop/${shop_id}`\n    }).then(response => {\n        if(response.data != null) callback(response.data);\n        else callback(null)\n    }\n    );\n}\n\n//DELETE ORDER\nexport function DeleteOrder(id)\n{\n    return dispath => {\n        callDeleteOrder(id,data=>{\n            dispath(setDeleteOrder(data))\n        })\n    }\n}\n\nfunction setDeleteOrder(orders)\n{\n    return {\n        type: DELETE_ORDER,\n        orders\n    }\n}\n\nexport function callDeleteOrder(id,callback)\n{\n    axios({\n        method: 'delete',\n        url: `https://127.0.0.1:5001/api/Order/${id}`\n    }).then(response=>{\n        if(response.data != null)\n        {\n            axios({\n                method: 'get',\n                url: `https://127.0.0.1:5001/api/Order/shop/${localStorage.getItem(\"shop_id\")}`\n            }).then(response=>{\n                if(response.data!=null) callback(response.data);\n            })\n        }\n        else alert(\"Can't delete\");\n    })\n}\n\n//LAY 1 ORDER BANG ORDER_ID\nexport function getOrderByID(id)\n{\n    return dispath => {\n        console.log(\"data\");\n    \n        callGetOrderByID(id,data=>{\n            console.log(data);\n            dispath(setOrderByID(data))\n        })\n    }\n}\n\n\nfunction setOrderByID(order)\n{\n    return {\n        type : GET_ORDER_BY_ID,\n        order\n    }\n}\n\nexport function callGetOrderByID(id,callback)\n{\n    axios({\n        method: 'get',\n        url: `https://127.0.0.1:5001/api/Order/${id}`\n    }).then(response=>{\n        if(response.data!=null){\n            console.log(response.data)\n            callback(response.data)\n        }\n    })\n}\n\n// DUNG DE HUY HOAC XAC NHAN DON HANG\nexport function UpdateOrder(id,status)\n{\n    return dispatch =>{\n        CallUpdateOrder(id,status,data=>{\n            dispatch(setUpdateOrder(data))\n        })\n    }\n}\n\nfunction setUpdateOrder(order)\n{\n    return{\n        type: UPDATE_ORDER,\n        order\n    }\n}\nexport function CallUpdateOrder(id,status,callback)\n{ \n    var newOrder = {\n        status: status\n    }\n    axios({\n        method: 'put',\n        url: `https://127.0.0.1:5001/api/Order/${id}`,\n        data: newOrder\n    }).then(response=>{\n        if(response.data!=null)\n        {\n            axios({\n                method: 'get',\n                url: `https://127.0.0.1:5001/api/Order/${id}`\n            }).then(response=>{\n                if(response.data!=null)\n                {\n                    alert(\"Updated!!!\");\n                    localStorage.setItem(\"orderDetail\",JSON.stringify(response.data));\n                    callback(response.data);\n                }\n            })\n        }\n    })\n}\n//update permission\nexport function UpdatePermission(id,permission)\n{\n    return dispatch => {\n        callUpdatePermission(id,permission,data=>{\n            dispatch(setPermissionProduct(data))\n        })\n    }\n}\n\nfunction setPermissionProduct(products)\n{\n    return{\n        type: SET_PERMISSION_PRODUCT,\n        products\n    }\n}\n\nexport function callUpdatePermission(id,permission,callback)\n{\n    var newProduct = {\n        permission: permission\n    }\n    axios({\n        method: 'put',\n        url: `https://127.0.0.1:5001/api/Product/${id}/permission`,\n        data: newProduct\n    }).then(response=>{\n        if(response.data!=null)\n        {\n            var shop_id = localStorage.getItem('shop_id');\n            axios({\n                method: 'get',\n                url: `https://127.0.0.1:5001/api/Product/Shop/${shop_id}`,\n                headers:{\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                    'Authorization':'Bearer '+localStorage.getItem(\"token\")\n                  }\n            }).then(res =>{\n                if(res.data != null){\n                    console.log(\"call shop\");\n                    console.log(res.data);\n                    callback(res.data);\n                }\n            })\n        }\n    })\n}\n\n//GET PRODUCT BY ID\nexport function getProduct(productDetail)\n{  \n    //alert(\"get produtc by id\");\n    return dispatch => {\n        dispatch({type: GET_PRODUCT_DETAIL,payload: productDetail})\n    }\n}\n\n//UPDATE PRODUCT\nexport function UpdateProduct(id,product_name,description,cat_id,price,quantity,permission)\n{\n    return dispatch => {\n        callUpdateProduct(id,product_name,description,cat_id,price,quantity,permission,data=>{\n            dispatch(setUpdateProduct(data))\n        })\n    }\n}\n\nfunction setUpdateProduct(productDetail)\n{\n    return {\n        type: 'UPDATE_PRODUCT',\n        productDetail\n    }\n}\nexport function callUpdateProduct(id,product_name,description,cat_id,price,quantity,permission,callback)\n{    \n    console.log(\"state\")\n    console.log(cat_id,price,quantity);\n    var product = {\n        product_name: product_name,\n        description: description,\n        cat_id: cat_id,\n        price: price,\n        quantity: quantity,\n        permission: permission\n    }\n    axios({\n        method: 'put',\n        url: `https://127.0.0.1:5001/api/Product/${id}/shop`,\n        data: product\n    }).then(response=>{\n        if(response.data!=null){\n            alert(\"Updated!!\")\n            axios({\n                method: 'get',\n                url: `https://127.0.0.1:5001/api/Product/${id}/detail`\n            }).then(res=>{\n                if(res.data!=null) {\n                    //alert(\"dafgahsdf\");\n                    callback(res.data[0])\n                }\n            })\n        }\n    })\n}\n// get all color \nexport function GetColors()\n{\n    return dispatch => {\n        callGetColors(data=>{\n            dispatch(setColors(data))\n        })\n    }\n}\n\nfunction setColors(colors)\n{\n    return {\n        type: 'GET_COLORS',\n        colors\n    }\n}\n\nexport function callGetColors(callback)\n{\n    axios({\n        method: 'get',\n        url: `https://127.0.0.1:5001/api/Color`\n    }).then(response=>{\n        if(response.data != null) callback(response.data);\n    })\n}\n// Add product\nexport function addProduct(product_name,description,cat_id,price,quantity,shop_id,image,permission,color_id)\n{\n    return dispatch => {\n        callAddProduct(product_name,description,cat_id,price,quantity,shop_id,image,permission,color_id,data=>{\n            dispatch(setAddProduct(data));\n        })\n    }\n}\n\nfunction setAddProduct(products)\n{\n    return {\n        type: ADD_PRODUCT,\n        products\n    }\n}\nexport function callAddProduct(product_name,description,cat_id,price,quantity,shop_id,image,permission,color_id,callback)\n{\n    var product = {\n        product_name: product_name,\n        description: description,\n        cat_id: cat_id,\n        price: price,\n        quantity: quantity,\n        shop_id: shop_id,\n        image: image,\n        permission: permission,\n        color_id: color_id\n    }\n    axios({\n        method: 'post',\n        url: `https://127.0.0.1:5001/api/Product`,\n        data: product\n    }).then(response=>{\n        if(response.data!=null)\n        {\n            alert(\"updated!!\")\n            var shop_id = localStorage.getItem('shop_id');\n            console.log(shop_id);\n            axios({\n                method: 'get',\n                url: `https://127.0.0.1:5001/api/Product/Shop/${shop_id}`,\n                headers:{\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                    'Authorization':'Bearer '+localStorage.getItem(\"token\")\n                  }\n            }).then(res=>{\n                if(res.data!=null) callback(res.data);\n            })\n        }\n    })\n}\n//ADD EXCEL\nexport function  addExcel(products) {\n    return dispatch =>{\n        callAddExcel(products,data=>{\n            dispatch(setAddExcel(data));\n        })\n    }\n}\n\nfunction setAddExcel(products) {\n    return {\n        type:ADD_EXCEL,\n        products\n    }\n}\n\nasync function callAddExcel(products,callback) {\n    for(var i = 0; i < products.length; i++)\n    {\n       await axios({\n            method: 'post',\n            url: `https://127.0.0.1:5001/api/Product`,\n            data: products[i]\n        }).then(response=>{\n            if(response.data!=null) alert(\"Updated\");\n        })\n    }\n    var shop_id = localStorage.getItem('shop_id');\n    axios({\n        method: 'get',\n        url: `https://127.0.0.1:5001/api/Product/Shop/${shop_id}`,\n        headers:{\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n            'Authorization':'Bearer '+localStorage.getItem(\"token\")\n          }\n    }).then(res=>{\n        if(res.data!=null) callback(res.data);\n    })\n}\n\n//initialState\nvar data =localStorage.getItem('shop_id');\nvar data2 = JSON.parse(localStorage.getItem('productShop'));\nvar data3 = JSON.parse(localStorage.getItem('Shop'))\nvar data4 = JSON.parse(localStorage.getItem('Orders'));\nvar data5 = JSON.parse(localStorage.getItem('orderDetail'));\nvar data6 = JSON.parse(localStorage.getItem('productDetail'))\nvar shop_state = {\n    shop_id : data?data:null,\n    shop: data3?data3:null,\n    products : data2?data2:[],\n    orders: data4?data4:[],\n    orderDetail: data5?data5:[],\n    productDetail:data6?data6:null,\n    colors:[]\n}\nexport default function shop_reducer(state = shop_state, action)\n{\n    if(action.type === 'GET_PRODUCTS_ONSHOP'){\n        let newState = {...state};\n        newState.products = action.products;\n        localStorage.setItem(\"productShop\",JSON.stringify(newState.products));\n        return newState;\n    }\n     if(action.type === 'GET_SHOP_ID')\n    {\n        let newState = {...state};\n        newState.shop_id = action.shop_id;\n        localStorage.setItem(\"shop_id\",newState.shop_id);\n        return newState;\n    }\n     if(action.type === 'GET_SHOP')\n    {\n        let newState = {...state};\n        newState.shop = action.shop;\n        localStorage.setItem(\"Shop\",JSON.stringify(newState.shop));\n        return newState;\n    }\n     if(action.type === 'UPDATE_SHOP')\n    {\n        let newState = {...state}\n        newState.shop = action.setShop;\n        localStorage.setItem(\"Shop\",JSON.stringify(newState.shop));\n        return newState;\n    }\n    if(action.type==='GET_ORDERS_SHOP')\n    {\n        let newState = {...state};\n        newState.orders = action.orders;\n        localStorage.setItem(\"Orders\",JSON.stringify(newState.orders));\n        return newState;\n    }\n    if(action.type === 'DELETE_ORDER')\n    {\n        let newState = {...state};\n        newState.orders = action.orders;\n        localStorage.setItem(\"Orders\",JSON.stringify(newState.orders));\n        return newState;\n    }\n    if(action.type === 'GET_ORDER_BY_ID')\n    {\n        let newState = {...state};\n        newState.orderDetail = action.order;\n        console.log(\"dfsdf\");\n        console.log(newState.orderDetail);\n        localStorage.setItem(\"orderDetail\",JSON.stringify(newState.orderDetail));\n        return newState;\n    }\n    if(action.type === 'UPDATE_ORDER')\n    {\n        let newState = {...state};\n        newState.orderDetail = action.order;\n        localStorage.setItem(\"orderDetail\",JSON.stringify(newState.orderDetail));\n        return newState;\n    }\n    if(action.type == 'SET_PERMISSION_PRODUCT')\n    {\n        let newState = {...state};\n        newState.products = action.products;\n        console.log(\"set permission\");\n        console.log(newState.products);\n        localStorage.setItem(\"productShop\",JSON.stringify(newState.products));\n        return newState;\n    }\n    if(action.type === 'GET_PRODUCT_DETAIL')\n    {   \n        let newState = {...state};\n        newState.productDetail = action.payload;\n        localStorage.setItem(\"productDetail\",JSON.stringify(newState.productDetail));\n        return newState;\n    }\n    if(action.type == 'UPDATE_PRODUCT')\n    {\n        let newState = {...state};\n        newState.productDetail = action.productDetail;\n        localStorage.setItem(\"productDetail\",JSON.stringify(newState.productDetail));\n        return newState;\n    }\n    if(action.type === 'GET_COLORS')\n    {\n        let newState = {...state};\n        newState.colors = action.colors;\n        return newState;\n    }\n    if(action.type === 'ADD_PRODUCT')\n    {\n        let newState = {...state};\n        newState.products = action.products;\n        localStorage.setItem(\"productShop\",JSON.stringify(newState.products));\n        return newState;\n    }\n    if(action.type === 'ADD_EXCEL')\n    {\n        let newState = {...state};\n        newState.products = action.products\n        newState.products = action.products;\n        localStorage.setItem(\"productShop\",JSON.stringify(newState.products));\n        return newState;\n    }\n    else return state;\n}\n"]},"metadata":{},"sourceType":"module"}