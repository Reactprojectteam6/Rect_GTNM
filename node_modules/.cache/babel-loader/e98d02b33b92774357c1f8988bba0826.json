{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kieu\\\\Desktop\\\\final_project\\\\my_app\\\\src\\\\Component\\\\Shop\\\\AddProduct.js\";\nimport React from 'react';\nimport Dashboard from './Dashboard';\nimport { connect } from 'react-redux';\nimport { getSubCategory } from '../../redux/home_reducer.js';\nimport { GetColors, addProduct } from '../../redux/shop_reducer.js';\nimport axios from 'axios';\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product_name: \"\",\n      description: \"\",\n      cat_id: \"\",\n      price: \"\",\n      quantity: \"\",\n      color_id: \"\",\n      file: null,\n      imagePreviewUrl: null\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  async onSubmit(e) {\n    e.preventDefault();\n    let res = await this.uploadFile(this.state.file);\n    console.log(res.data);\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n    let reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  async uploadFile(file) {\n    const formData = new FormData();\n    formData.append('file', file);\n    return await axios.post('https://127.0.0.1:5001/api/Image', formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  }\n\n  componentWillMount() {\n    this.props.getSubCategory();\n    this.props.GetColors();\n  }\n\n  render() {\n    let _this$state = this.state,\n        product_name = _this$state.product_name,\n        description = _this$state.description,\n        cat_id = _this$state.cat_id,\n        price = _this$state.price,\n        quantity = _this$state.quantity,\n        color_id = _this$state.color_id;\n    let _this$props = this.props,\n        subcategory = _this$props.subcategory,\n        colors = _this$props.colors,\n        shop_id = _this$props.shop_id;\n    console.log(colors);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-3 col-sm-3 col-md-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col-xs-9 col-sm-9 col-md-9 col-lg-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        marginTop: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Th\\xEAm s\\u1EA3n ph\\u1EA9m m\\u1EDBi\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \" React File Upload Example\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Upload File\")), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-8 col-sm-8 col-md-8 col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.product_name,\n      onChange: e => {\n        this.setState({\n          product_name: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Danh m\\u1EE5c\"), React.createElement(\"select\", {\n      class: \"form-control\",\n      required: \"requried\",\n      onChange: e => {\n        this.setState({\n          cat_id: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, subcategory.length > 0 && subcategory.map(item => {\n      return React.createElement(\"option\", {\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, item.name);\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.state.cat_id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"M\\xF4 t\\u1EA3\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: e => {\n        this.setState({\n          description: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Gi\\xE1\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.price,\n      onChange: e => {\n        this.setState({\n          price: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"S\\u1ED1 l\\u01B0\\u1EE3ng\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.quantity,\n      onChange: e => {\n        this.setState({\n          quantity: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"M\\xE0u s\\u1EAFc\"), React.createElement(\"select\", {\n      class: \"form-control\",\n      required: \"required\",\n      onChange: e => {\n        this.setState({\n          color_id: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, colors.length > 0 && colors.map(item => {\n      return React.createElement(\"option\", {\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, item.name);\n    }))), React.createElement(\"div\", {\n      class: \"col-xs-4 col-sm-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"abc\")), React.createElement(\"div\", {\n      class: \"row\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-warning\",\n      style: {\n        width: \"130px\",\n        height: \"34px\",\n        marginLeft: \"200px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"H\\u1EE7y\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-default\",\n      style: {\n        width: \"130px\",\n        height: \"34px\",\n        marginLeft: \"50px\"\n      },\n      onClick: e => {\n        this.props.addProduct(product_name, description, cat_id, price, quantity, shop_id, \"ChongNang1.jpg\", false, color_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Th\\xEAm v\\xE0 \\u1EA9n\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-success\",\n      style: {\n        width: \"130px\",\n        height: \"34px\",\n        marginLeft: \"50px\"\n      },\n      onClick: e => {\n        this.props.addProduct(product_name, description, cat_id, price, quantity, shop_id, \"ChongNang1.jpg\", true, color_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Th\\xEAm v\\xE0 hi\\u1EC3n th\\u1ECB\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    shop_id: state.shopState.shop_id,\n    subcategory: state.homeState.subcategories,\n    colors: state.shopState.colors\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getSubCategory: () => dispatch(getSubCategory()),\n    GetColors: () => dispatch(GetColors()),\n    addProduct: (product_name, description, cat_id, price, quantity, shop_id, image, permission, color_id) => dispatch(addProduct(product_name, description, cat_id, price, quantity, shop_id, image, permission, color_id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddProduct);","map":{"version":3,"sources":["C:/Users/kieu/Desktop/final_project/my_app/src/Component/Shop/AddProduct.js"],"names":["React","Dashboard","connect","getSubCategory","GetColors","addProduct","axios","AddProduct","Component","constructor","props","state","product_name","description","cat_id","price","quantity","color_id","file","imagePreviewUrl","onChange","bind","onSubmit","e","preventDefault","res","uploadFile","console","log","data","setState","target","files","reader","FileReader","onloadend","result","readAsDataURL","event","formData","FormData","append","post","headers","componentWillMount","render","subcategory","colors","shop_id","marginTop","value","length","map","item","id","name","width","height","marginLeft","mapStateToProps","shopState","homeState","subcategories","mapDispatchToProps","dispatch","image","permission"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Dashboard from './Dashboard';\nimport { connect } from 'react-redux';\nimport {getSubCategory} from '../../redux/home_reducer.js';\nimport {GetColors,addProduct} from '../../redux/shop_reducer.js';\nimport axios from 'axios';\nclass AddProduct extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            product_name:\"\",\n            description: \"\",\n            cat_id: \"\",\n            price: \"\",\n            quantity: \"\",\n            color_id: \"\",\n            file:null,\n            imagePreviewUrl: null,\n        }\n        this.onChange=this.onChange.bind(this);\n        this.onSubmit=this.onSubmit.bind(this);\n    }\n    async onSubmit(e){\n        e.preventDefault() \n        let res = await this.uploadFile(this.state.file);\n        console.log(res.data);\n    }\n    onChange(e) {\n        this.setState({file:e.target.files[0]});\n        let reader = new FileReader();\n     \n        reader.onloadend = () => {\n          this.setState({\n            imagePreviewUrl: reader.result\n          });\n        }\n     \n        reader.readAsDataURL(event.target.files[0])\n    }\n    async uploadFile(file){\n\n\n        const formData = new FormData();\n\n        formData.append('file',file)\n\n        return  await axios.post('https://127.0.0.1:5001/api/Image', formData,{\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        });\n      }\n    componentWillMount(){\n        this.props.getSubCategory();\n        this.props.GetColors();\n    }\n    render()\n    {\n        let {product_name,description,cat_id,price,quantity,color_id}=this.state\n        let {subcategory,colors,shop_id} = this.props\n        console.log(colors);\n        return(\n            <div>\n                <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\n                    <Dashboard/>\n                </div>\n                \n                \n                <div class=\"col-xs-9 col-sm-9 col-md-9 col-lg-9\">\n                    <h3 style={{marginTop:\"15px\"}}>Thêm sản phẩm mới</h3>\n                    <hr/>\n                 \n            <form onSubmit={ this.onSubmit }>\n            <h1> React File Upload Example</h1>\n            <input type=\"file\" onChange={this.onChange} />\n            <button type=\"submit\">Upload File</button>\n          </form>   \n                    \n                    <div class=\"row\">\n                        <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\">\n                            <p>Tên sản phẩm</p>                    \n                            <input type=\"text\" class=\"form-control\" value={this.state.product_name} onChange={e=>{this.setState({product_name: e.target.value})}} />\n                            <p>Danh mục</p>                  \n                            <select class=\"form-control\" required=\"requried\" onChange={e=>{this.setState({cat_id: e.target.value})}}>\n                                {\n                                    subcategory.length>0 &&\n                                    subcategory.map(item=>{\n                                        return(\n                                            <option value={item.id}>{item.name}</option>\n                                        )\n                                    })\n                                }\n                            </select>\n                            <p>{this.state.cat_id}</p>\n                            \n                            <p>Mô tả</p>\n                            <textarea className=\"form-control\" value={this.state.description} onChange={e=>{this.setState({description: e.target.value})}}></textarea>\n\n                            <p>Giá</p>                    \n                            <input type=\"text\" class=\"form-control\" value={this.state.price} onChange={e=>{this.setState({price: e.target.value})}}/>\n\n                            <p>Số lượng</p>                    \n                            <input type=\"text\" class=\"form-control\" value={this.state.quantity} onChange={e=>{this.setState({quantity: e.target.value})}}/>\n\n                            <p>Màu sắc</p>                  \n                            <select class=\"form-control\" required=\"required\" onChange={e=>{this.setState({color_id: e.target.value})}}>\n                            {\n                                    colors.length>0 &&\n                                    colors.map(item=>{\n                                        return(\n                                            <option value={item.id}>{item.name}</option>\n                                        )\n                                    })\n                                }\n                            </select>\n                        </div>\n                    \n                    <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\n                        abc\n                    </div>\n                    </div>\n                    \n                \n                \n                \n                <div class=\"row\" style={{marginTop:\"30px\"}}>\n                    <button type=\"button\" class=\"btn btn-warning\" style={{width:\"130px\",height:\"34px\",marginLeft:\"200px\"}}>Hủy</button>\n                    \n                    <button type=\"button\" class=\"btn btn-default\" style={{width:\"130px\",height:\"34px\",marginLeft:\"50px\"}}\n                    onClick={e=>{this.props.addProduct(product_name,description,cat_id,price,quantity,shop_id,\"ChongNang1.jpg\",false,color_id)}}\n                    >Thêm và ẩn</button>\n                    \n                    <button type=\"button\" class=\"btn btn-success\" style={{width:\"130px\",height:\"34px\",marginLeft:\"50px\"}}\n                    onClick={e=>{this.props.addProduct(product_name,description,cat_id,price,quantity,shop_id,\"ChongNang1.jpg\",true,color_id)}}\n                    >Thêm và hiển thị</button>\n                </div>\n                \n                \n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        shop_id: state.shopState.shop_id,\n        subcategory:state.homeState.subcategories,\n        colors: state.shopState.colors\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return{\n        getSubCategory:()=> dispatch(getSubCategory()),\n        GetColors: ()=>dispatch(GetColors()),\n        addProduct: (product_name,description,cat_id,price,quantity,shop_id,image,permission,color_id)=>dispatch(addProduct(product_name,description,cat_id,price,quantity,shop_id,image,permission,color_id))\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(AddProduct);"]},"metadata":{},"sourceType":"module"}