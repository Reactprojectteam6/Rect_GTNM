{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kieu\\\\Desktop\\\\React_Final\\\\my_app\\\\src\\\\Component\\\\Admin\\\\AddProduct.js\";\nimport React from 'react';\nimport Dashboard from './Dashboard';\nimport { connect } from 'react-redux';\nimport { Link } from \"react-router-dom\";\nimport { getAllSubCategory } from '../../redux/home_reducer';\nimport { newproduct } from '../../redux/product_reducer';\nimport axios from 'axios';\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      imagePreviewUrl: null\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.getAllSubCategory();\n  }\n\n  change(event) {\n    this.setState({\n      category_name: event.target.value\n    });\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('myImage', this.state.file);\n    this.setState({\n      product_image: this.state.file.name\n    });\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(\"http://127.0.0.1:3000/image\", formData, config).then(response => {\n      alert(\"The file is successfully uploaded\");\n    }).catch(error => {});\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n    let reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  }\n\n  render() {\n    let $imagePreview = React.createElement(\"div\", {\n      className: \"previewText image-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Please select an Image for Preview\");\n\n    if (this.state.imagePreviewUrl) {\n      $imagePreview = React.createElement(\"div\", {\n        className: \"image-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imagePreviewUrl,\n        alt: \"icon\",\n        width: \"200\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), \" \");\n    }\n\n    let _this$props = this.props,\n        _this$props$category = _this$props.category,\n        category = _this$props$category === void 0 ? [] : _this$props$category,\n        _this$props$isAddings = _this$props.isAddingsuccess,\n        isAddingsuccess = _this$props$isAddings === void 0 ? null : _this$props$isAddings;\n    let _this$state = this.state,\n        product_name = _this$state.product_name,\n        product_details = _this$state.product_details,\n        price = _this$state.price,\n        product_image = _this$state.product_image,\n        quantity = _this$state.quantity,\n        category_name = _this$state.category_name,\n        _this$state$hot_produ = _this$state.hot_product,\n        hot_product = _this$state$hot_produ === void 0 ? false : _this$state$hot_produ;\n    console.log(\"dgshdfgsdf\");\n    console.log(isAddingsuccess);\n    if (this.props.isAddingsuccess == true) alert(\"add successfully\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Dashboard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-9 col-sm-9 col-md-9 col-lg-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" Add Product\"), React.createElement(\"hr\", {\n      style: {\n        width: \"1000px\",\n        marginLeft: \"7px\",\n        marginTop: \"5px\",\n        backgroundColor: \"#000000\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n      style: {\n        marginLeft: \"100px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Product Image\"), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"myImage\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, $imagePreview)), React.createElement(\"div\", {\n      class: \"col-xs-7 col-sm-7 col-md-7 col-lg-7\",\n      style: {\n        marginLeft: \"200px\",\n        marginTop: \"13px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-4 col-sm-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: event => this.setState({\n        value: event.target.value,\n        by: \"Category\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.props.category.length > 0 && this.props.category.map(function (item, i) {\n      return React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, item.category_name);\n    }), \"}\")), React.createElement(\"p\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\",\n        fontSize: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"List Category\"))), React.createElement(\"div\", {\n      class: \"col-xs-7 col-sm-7 col-md-7 col-lg-7\",\n      style: {\n        marginTop: \"80px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-5 col-sm-5 col-md-5 col-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"ProductName\",\n      onChange: e => this.setState({\n        product_name: e.target.value\n      }),\n      value: product_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\",\n        fontSize: \"21px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Product Name\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-5 col-sm-5 col-md-5 col-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Product Detail\",\n      onChange: e => this.setState({\n        product_details: e.target.value\n      }),\n      value: product_details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\",\n        fontSize: \"21px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Product Detail\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-5 col-sm-5 col-md-5 col-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Price\",\n      onChange: e => this.setState({\n        price: e.target.value\n      }),\n      value: price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\",\n        fontSize: \"21px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Price\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-xs-5 col-sm-5 col-md-5 col-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Quantity\",\n      onChange: e => this.setState({\n        quantity: e.target.value\n      }),\n      value: quantity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        fontFamily: \"'Times New Roman', Times, serif\",\n        fontSize: \"21px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Quantity\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })))), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      style: {\n        marginLeft: \"670PX\",\n        marginTop: \"25px\",\n        backgroundColor: \"brown\"\n      },\n      onClick: e => {\n        this.props.newproduct(product_name, product_details, price, product_image, quantity, category_name, hot_product);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Add Product\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  //tra state return ve tu reducer ve thanh prop\n  console.log(\"gfjsdgfsdfj\");\n  console.log(state.productState.isAddingsuccess);\n  return {\n    category: state.homeState.allSubCategory,\n    isAddingsuccess: state.productState.isAddingsuccess\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  //store.dispatch(action)\n  return {\n    getAllSubCategory: () => dispatch(getAllSubCategory()),\n    newproduct: (product_name, product_details, price, product_image, quantity, category_name, hot_product) => dispatch(newproduct(product_name, product_details, price, product_image, quantity, category_name, hot_product))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddProduct);","map":{"version":3,"sources":["C:/Users/kieu/Desktop/React_Final/my_app/src/Component/Admin/AddProduct.js"],"names":["React","Dashboard","connect","Link","getAllSubCategory","newproduct","axios","AddProduct","Component","constructor","props","state","file","imagePreviewUrl","onFormSubmit","bind","onChange","componentWillMount","change","event","setState","category_name","target","value","e","preventDefault","formData","FormData","append","product_image","name","config","headers","post","then","response","alert","catch","error","files","reader","FileReader","onloadend","result","readAsDataURL","render","$imagePreview","category","isAddingsuccess","product_name","product_details","price","quantity","hot_product","console","log","fontFamily","color","width","marginLeft","marginTop","backgroundColor","by","length","map","item","i","fontSize","mapStateToProps","productState","homeState","allSubCategory","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Dashboard from './Dashboard';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from \"react-router-dom\";\r\nimport { getAllSubCategory} from '../../redux/home_reducer';\r\nimport { newproduct} from '../../redux/product_reducer';\r\nimport axios from 'axios';\r\nclass AddProduct extends React.Component  {\r\n    constructor(props)\r\n    {\r\n       \r\n            super(props);\r\n            this.state ={\r\n                file: null,\r\n                imagePreviewUrl:null\r\n            };\r\n            this.onFormSubmit = this.onFormSubmit.bind(this);\r\n            this.onChange = this.onChange.bind(this);\r\n    }\r\n    componentWillMount()\r\n    {\r\n        this.props.getAllSubCategory();\r\n        \r\n    }\r\n    change(event)\r\n    {\r\n      this.setState({category_name: event.target.value});\r\n    }\r\n    onFormSubmit(e){\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('myImage',this.state.file);\r\n        this.setState({product_image:this.state.file.name});\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n        axios.post(\"http://127.0.0.1:3000/image\",formData,config)\r\n            .then((response) => {\r\n                alert(\"The file is successfully uploaded\");\r\n            }).catch((error) => {\r\n        });\r\n    }\r\n    onChange(e) {\r\n        this.setState({file:e.target.files[0]});\r\n        let reader = new FileReader();\r\n         reader.onloadend = () => {\r\n             this.setState({\r\n               imagePreviewUrl: reader.result\r\n            });\r\n        }\r\n     reader.readAsDataURL(e.target.files[0])  \r\n       \r\n    }\r\n     \r\n  render(){\r\n    let $imagePreview = (<div className=\"previewText image-container\">Please select an Image for Preview</div>);\r\n    if (this.state.imagePreviewUrl) {\r\n      $imagePreview = (<div className=\"image-container\" ><img src={this.state.imagePreviewUrl} alt=\"icon\" width=\"200\" /> </div>);\r\n    }\r\n      let {category=[],isAddingsuccess=null}=this.props;\r\n      let{product_name,product_details,price,product_image,quantity,category_name,hot_product=false}=this.state;\r\n      console.log(\"dgshdfgsdf\");\r\n      console.log(isAddingsuccess);\r\n      if(this.props.isAddingsuccess==true) alert(\"add successfully\");\r\n      return (\r\n     <div>     \r\n    <Dashboard></Dashboard>\r\n       <div >\r\n           <div class=\"col-xs-9 col-sm-9 col-md-9 col-lg-9\">\r\n                <div >\r\n                    <h3 style={{fontFamily:\"'Times New Roman', Times, serif\",color:\"black\"}} > Add Product</h3>\r\n                    <hr style={{width:\"1000px\",marginLeft:\"7px\",marginTop:\"5px\",backgroundColor:\"#000000\"}}></hr>\r\n                </div >\r\n                <div>\r\n                    <div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\" style={{marginLeft:\"100px\"}}>\r\n                   \r\n                 <h1>Product Image</h1>\r\n                <input type=\"file\" name=\"myImage\" onChange= {this.onChange} />\r\n                 <button type=\"submit\" onClick={this.onFormSubmit}>Upload</button>\r\n                 <div>\r\n                 { $imagePreview }\r\n                 </div>\r\n                    </div>\r\n                    <div class=\"col-xs-7 col-sm-7 col-md-7 col-lg-7\" style={{marginLeft:\"200px\",marginTop:\"13px\"}}>\r\n                        <div class=\"row\">\r\n                            \r\n                            <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                            <select className=\"form-control\"  onChange={event=>this.setState({value: event.target.value,by:\"Category\"})} >\r\n            \r\n                            {  this.props.category.length>0 &&\r\n                                this.props.category.map(function(item, i){\r\n                                return(<option>{item.category_name}</option>\r\n                                   \r\n                                  )\r\n                                 })\r\n                             }\r\n            \r\n            } \r\n            </select>\r\n                            </div>\r\n                            <p style={{fontFamily:\"'Times New Roman', Times, serif\",fontSize:\"20px\"}}>List Category</p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"col-xs-7 col-sm-7 col-md-7 col-lg-7\" style={{marginTop:\"80px\"}}>\r\n                    <div class=\"row\">\r\n                                <div class=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\r\n                                    <input type=\"text\"  class=\"form-control\" placeholder=\"ProductName\" onChange={e => this.setState({product_name: e.target.value})} value={product_name}></input>    \r\n                                </div>\r\n                                <p style={{fontFamily:\"'Times New Roman', Times, serif\",fontSize:\"21px\"}}>Product Name</p>\r\n                        </div><br/>\r\n                        <div class=\"row\">\r\n                                <div class=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\r\n                                    <input type=\"text\"  class=\"form-control\" placeholder=\"Product Detail\" onChange={e => this.setState({product_details: e.target.value})} value={product_details}></input>    \r\n                                </div>\r\n                                <p style={{fontFamily:\"'Times New Roman', Times, serif\",fontSize:\"21px\"}}>Product Detail</p>\r\n                        </div><br/>\r\n                        <div class=\"row\">\r\n                                <div class=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\r\n                                    <input type=\"text\"  class=\"form-control\" placeholder=\"Price\" onChange={e => this.setState({price: e.target.value})} value={price}></input>    \r\n                                </div>\r\n                                <p style={{fontFamily:\"'Times New Roman', Times, serif\",fontSize:\"21px\"}}>Price</p>\r\n                        </div><br/>\r\n                        <div class=\"row\">\r\n                                <div class=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\r\n                                    <input type=\"text\"  class=\"form-control\" placeholder=\"Quantity\" onChange={e => this.setState({quantity: e.target.value})} value={quantity}></input>    \r\n                                </div>\r\n                                <p style={{fontFamily:\"'Times New Roman', Times, serif\",fontSize:\"21px\"}}>Quantity</p>\r\n                        </div><br/>\r\n                    </div>\r\n                </div>\r\n               \r\n                 </div>\r\n             <button type=\"button\" class=\"btn btn-primary\" style={{marginLeft:\"670PX\",marginTop:\"25px\",backgroundColor:\"brown\"}} onClick={e=>{this.props.newproduct(product_name,product_details,price,product_image,quantity,category_name,hot_product)}}>Add Product</button>\r\n            \r\n        </div>\r\n        </div>       \r\n           \r\n  );\r\n}\r\n}\r\nconst mapStateToProps = (state) => {//tra state return ve tu reducer ve thanh prop\r\n    console.log(\"gfjsdgfsdfj\");\r\n    console.log(state.productState.isAddingsuccess);\r\n    return {\r\n   category:state.homeState.allSubCategory,\r\n   isAddingsuccess:state.productState.isAddingsuccess,\r\n    };\r\n}\r\nconst mapDispatchToProps = (dispatch) => {//store.dispatch(action)\r\n    return {\r\n     getAllSubCategory:()=>dispatch(getAllSubCategory()),\r\n     newproduct:(product_name,product_details,price,product_image,quantity,category_name,hot_product)=>dispatch(newproduct(product_name,product_details,price,product_image,quantity,category_name,hot_product))\r\n    };\r\n    }\r\n    export default connect(mapStateToProps, mapDispatchToProps)(AddProduct);\r\n"]},"metadata":{},"sourceType":"module"}